!function(T){if(T.myFT)return;var e,w,I=1,F={},d=T.Symbol?Symbol("private"):"_privateOptions",a=[],r=[],z=(k.prototype.w=T,k.prototype.manifest=function(e){for(var t=(this.manifestProperties=e).videos&&e.videos.length;t--;)myFT._availableVideos[e.videos[t].name]={ref:e.videos[t].ref,ytVideo:M.test(e.videos[t].ref)};for(t=e.instantAds&&e.instantAds.length;t--;)myFT._instantAdsVars[e.instantAds[t].name]=e.instantAds[t].type;myFT.frameless&&e.instantAds&&(e.instantAds=e.instantAds.map(e=>("image"===e.type&&(/^\/\//.test(e.default)&&(e.default="https:"+e.default),/^https?:\/\//.test(e.default)&&!/^images\//.test(e.default)||(e.default=myFT.placementProperties.creativeAssetPath+e.default)),e))),this.manifestLoaded=!0,this.dispatch("manifest",e)},k.prototype.query=function(e){this.error("query","Please use $","deprecated");return e.match(/#[a-z0-9_\-]+$/i)?this.w.document.querySelector(e):this.w.document.querySelectorAll(e)},k.prototype.include=function(e,t){this.error("include","Please use myFT.require - http://www.flashtalking.net/helpSystem/EN/HTML5/jsDocs/classes/FT.html#method_require","deprecated"),myFT.require([e],t)},k.prototype.addListener=function(e,t,n){this.error("addListener",'Please use myFT.$("selector").on instead - http://www.flashtalking.net/helpSystem/EN/HTML5/jsDocs/classes/$Base.html#method_on',"deprecated"),(e=e.on?e:w(e)).on(t,n)},k.prototype.listen=k.prototype.addListener,k.prototype.removeListener=function(e,t,n){this.error("addListener",'Please use myFT.$("selector").off instead - http://www.flashtalking.net/helpSystem/EN/HTML5/jsDocs/classes/$Base.html#method_off',"deprecated"),(e=e.on?e:w(e)).off(t,n)},{async:!0,method:"GET",context:T,complete:function(e,t,n){},params:null,test:function(){}});function j(n,i,o){var e,t=l(),a="fullscreenerror mozfullscreenerror webkitfullscreenerror MSFullscreenError fullscreenchange webkitfullscreenchange mozfullscreenchange MSFullscreenChange",r=n.requestFullscreen,s=["ms","moz","webkit"],c=T.chrome||"Apple"===(navigator.vendor||"").slice(0,5);if(t===n)return i();if(t&&c)return o();for(;!r&&(e=s.pop());)r=n[e+"RequestFullscreen"]||n[e+"RequestFullScreen"]||n[e+"EnterFullscreen"];r?(w(n.ownerDocument).on(a,function e(t){w(n.ownerDocument).off(a,e);t=/error$/i.test(t.type)?o:i;"function"==typeof t&&t()}),r.call(n)):"function"==typeof o&&o()}function V(){var t=document,e=["ms","moz","webkit"];return t.fullscreenEnabled||e.some&&e.some(function(e){return t[e+"fullscreenEnabled"]||t[e+"fullScreenEnabled"]})}function l(e){return(e=e||document).fullscreenElement||e.webkitFullscreenElement||e.mozFullScreenElement||e.msFullscreenElement}function H(e){for(var t=e,n=[].slice.call(arguments,1),i=n.length;i--;){s=r=a=o=void 0;var o=t,a=(e=>{for(var t,n,i,o=[],a=(e=e.sheet||e.styleSheet||e).cssRules||e.rules||[],r=a.length,s=/content: (\w);/;r--;)i=(t=a[r]).cssText,n=t.style?t.style.cssText:"",t.style&&t.style.content&&1===t.style.content.length&&(i=i.replace(s,'content: "$1";'),n=n.replace(s,'content: "$1";')),o.unshift({cssText:i,selector:t.selectorText,rules:n}),e.deleteRule?e.deleteRule(r):e.removeRule(r);return o})(n[i]),r=0,s=(o=o.sheet||o,a.length);if("insertRule"in o)for(;s--;)o.insertRule(a[s].cssText,r);else if("addRule"in o)for(;s--;)o.addRule(a[s].selector,a[s].rules,r)}}function $(t,n){n=n||t.ownerDocument;let i;return t?(i=t.ownerDocument.createElement("style"),t.insertBefore(i,t.children[0]||null),t.parentNode||"HEAD"!==t.tagName||function e(){n.documentElement?(myFT.$(n).off("readystatechange",e),n.getElementsByTagName("head").length?n.getElementsByTagName("head")[0].appendChild(i):n.documentElement.insertBefore(t,n.body)):myFT.$(n).on("readystatechange",e)}()):(i=document.createElement("style"),n.appendChild(i)),i}function q(s){var c={},l={},d=[],h=Array.isArray||function(e){return"[object Array]"==={}.toString.call(e)},u=function(e,t){for(var n=0,i=e.length;n<i&&!1!==t(e[n],n,e);n++);},p={carousel:"2/0",photoinput:"1/1",storelocator:"2/1",subloader:"1/3",touch:"1/2",transform:"1/1",maps:"2/1",talk:"1/0",feeds:"1/0",vpaid:"1/0"},f="//cdn.flashtalking.com/frameworks/js/";function m(){for(var e,t,n,i,o,a=d.length,r=function(e,t){t=h(e)?e[0]:e,c.hasOwnProperty(t)&&o.push(c[t])};a--;)t=(e=d[a])[0],i=e[2],o=[],u(n=e[1],r),n.length&&n.length!==o.length||(d.splice(a,1),i="function"==typeof i?i.apply(this,o):i,e.push(!0),null!==t&&(c[t]=i),a=d.length)}(s.myFT||k.prototype).require=(s.myFT||k.prototype).define=e=function(e,t,n){var i,o=document.currentScript&&document.currentScript.getAttribute("data-module");if("string"!=typeof e&&(n=t,t=e,e=null),h(t)||(n=t,t=[]),e=e||o||null,(e=p.hasOwnProperty(String(e).toLowerCase())?String(e).toLowerCase():e)&&(l[e]=!0),d.unshift([e,t,n]),m(),t.length)for(var a=0;a<t.length;a++)i=String(t[a]).toLowerCase(),p.hasOwnProperty(i)&&(t[a]=i),(r=>{s.setTimeout(function(){var e,t,n,i,o=h(r),a=o?r[0]:r,o=o?r[1]:r;if(l.hasOwnProperty(a)||c.hasOwnProperty(a))return m();p.hasOwnProperty(a)&&a===o&&(o=f+[a,p[a],a+".js"].join("/"),/https?:/.test(location.protocol)||(o="http:"+o)),/\.js/.test(o)||/^(data:|http|\/\/)/.test(o)||(o=o.replace(".","/")+".js"),/.+!(.*?$)/.test(o)&&(n="__asyncs__"+Date.now(),t=o.match(/.+!(.*?$)/)[1]),o=o,t=t,n=n,(e=a)&&s.document.querySelector('script[data-module="'+e.replace(/"/g,'\\"')+'"]')||(i=s.document.createElement("script"),a=function(){this.readyState&&!/^(?:loaded|complete)$/.test(this.readyState)||(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),l.hasOwnProperty(e))||(c[e]=void 0,m())},n?(s.myFT[n]=a,o=o.replace("!"+t,(o.indexOf("?")<0?"?":"&")+t+"=myFT."+n)):i.onload=i.onreadystatechange=a,i.async=!0,i.src=o,i.setAttribute("data-module",e.replace("!"+String(t),"")),(s.document.head||s.document.querySelector("head")).appendChild(i))})})(t[a])},s.define||s.require||(s.require=s.define=e)}function c(e,t){if(!(this instanceof c))return new c(e,t||this.w);this.w=t||T;var n="string"==typeof e,i=0,o=[];if(this.length=0,n?o=/<[^>]+>/.test(e)?((e,t)=>{var n=t.document.createElement("div"),i=t.document.createDocumentFragment();for(n.innerHTML=e;n.childNodes.length;)i.appendChild(n.childNodes[0]);return i})(e,this.w).childNodes:this.w.document.querySelectorAll(e):e&&(o=!e.length||/\[object (Window|global)\]/.test(Object.prototype.toString.call(e))?[e]:e),o&&o.length)for(i=o.length;i--;)n&&1!==o[i].nodeType||Array.prototype.unshift.call(this,o[i])}function U(e,t,n,i,o){for(var a,r=(i?"remove":"add")+"EventListener",s=t.split(" "),c=e.length,l=s.length,d={capture:!!o};c--;)for(var h=0;h<l;h++)r in e[c]&&(-1<(a=s[h]).indexOf("touch")&&(d.passive=!0),e[c][r](a,n,d))}function t(e,t,n){var i,o,a,r,s="last"===n?"appendChild":"insertBefore";if(t instanceof c||(t=new c(t,e.w)),e instanceof c||(e=new c(e,t.w)),0<(o=t.length))for(i=((e,t)=>{for(var n=t.document.createDocumentFragment(),i=0,o=e.length;i<o;i++)n.appendChild(e[i]);return n})(e,e.w);o--;)t[o]&&"object"==typeof t[o]&&(a="last"===n||"first"===n?t[o]:t[o].parentNode,r="after"===n?t[o].nextSibling:"first"===n?t[o].childNodes[0]:t[o],what=0===o?i:i.cloneNode(!0),a[s](what,r))}function W(e,t){for(;e=e&&e[t+"Sibling"];)if(1===e.nodeType)return e}k.prototype.ajax=function(e,t){var n,i,o,a,r,s,c,l,d=this,h=new XMLHttpRequest,u=(document.createElement("a"),/([\w%]+)=\[%CALLBACK%]/);t=t||{};for(n in z)t[n]=t[n]||z[n];if(-1<e.indexOf("ftCreds=1")&&(t.withCredentials=!0),h.ontimeout=function(e){h.didTimeout=!0},t.jsonp)return i=e,o=d.$("head")[0],a=d.w.document.createElement("script"),r="FT_jsonpCallback_1_"+I++,s=u.test(i),i=i.replace(u,"$1="+r),c=!1,l=setTimeout(function(){c=!0,p()},t.timeout),a.setAttribute("src",i),!s&&"string"!=typeof t.jsonp||(d.w[s?r:t.jsonp]=function(){t.complete.call(this,{status:200,responseText:JSON.stringify(arguments[0])}),delete d.w[r]}),a.onerror=p,a.onload=function(){clearTimeout(l)},void o.appendChild(a);function p(){clearTimeout(l),t.complete.call(this,{status:c?504:400,didTimeout:c,responseText:"",jsonpFailed:!0})}if(t.withCredentials&&(h.withCredentials=!0),e=e.replace(u,""),h.onreadystatechange=function(e){4===h.readyState&&t.complete.call(t.context,h,e,t.params)},!0!==t.context.testMode){for(n in h.open(t.method,e,t.async),t.headers)h.setRequestHeader(n,t.headers[n]);h.send()}else t.test.call(t.context,t.params)},k.prototype.getSheet=function(e,t){var n,i=(e=>{var t=e,n=e&&e.parentNode;if(e.shadowRoot)return e.shadowRoot;for(;n;){if("[object ShadowRoot]"===n.toString())return n;n=(t=n).parentNode}return t instanceof ShadowRoot?t:t.head||t.getElementsByTagName&&t.getElementsByTagName("head")[0]||t.createElement("head")})(t=t||this.w.document);return"proxy"!==e?(n=a[r.indexOf(i)])||(n=$(i,t),a.push(n),r.push(i)):n=$(i,t),n},k.prototype.defaultCSS='@font-face{font-family:ftglyphs;src:url(${fontsURL}/ftglyphs.eot);src:url(${fontsURL}/ftglyphs.eot?) format("eot"),url(${fontsURL}/ftglyphs.woff) format("woff"),url(${fontsURL}/ftglyphs.svg) format("svg")}body,html{margin:0;padding:0}body,ft-dynamic>ft-video,html{height:100%;width:100%}ft-carousel,ft-dynamic,ft-richload,richload{border:0;display:block;margin:0;padding:0;position:relative}ft-default,ft-expand,ft-richload{height:100%;width:100%}ft-default,ft-expand{display:block;left:0;position:relative;top:0}ft-expand:not([customclose]):after{content:"V";cursor:pointer;font:700 15px ftglyphs;height:1em;padding:10px;position:absolute;right:0;top:0;width:1em;z-index:999999999}ft-slide,ft-slide-nav{position:absolute}ft-slide-nav{opacity:0;-webkit-transition:1s;-ms-transition:1s;transition:1s}body:not([ft-expanded]) ft-expand,body[ft-expanded] ft-default{display:none}[clickaction]:before,[clicktag]:before,[hoveraction]:before,[leaveaction]:before{content:"";display:block;height:100%;position:absolute;width:100%;z-index:-1}[class^=ft-share-]{size:20px;font-family:ftglyphs}[class^=ft-share-twitter]{color:#55acee}[class^=ft-share-facebook]{color:#3b579d}.ft-share-twitter:before{content:"Z"}.ft-share-twitter-square:before{content:"Y"}.ft-share-facebook:before{content:"X"}.ft-share-facebook-square:before{content:"W"}',k.prototype.insertCSS=function(e,t){"string"!=typeof e||t||(t=e,e=this.w.document);for(var n=a.length;n--;)a[n].parentNode||(a.splice(n,1),r.splice(n,1));var i=this.getSheet("proxy",e),o=this.getSheet("style",e),e=this.version.toString().split(".").join("/");return t=t.replace(/\${fontsURL}/g,"https://cdn.flashtalking.com/frameworks/fonts/"+e),i.styleSheet&&"cssText"in i.styleSheet?i.styleSheet.cssText=t:i.textContent=t,function e(){if(!o.sheet)return setTimeout(e,15);H(o,i),i.parentNode&&i.parentNode.removeChild(i)}(),o},q(this),(w=k.prototype.$=c).prototype.splice=function(e,t){var n,i=[],o=e,a=void 0===t?this.length-e:t;if("number"==typeof a){for(;a--;)i.push(this[o++]);for(o=e;this[o];)this[o+t]?this[o]=this[o+t]:delete this[o],o++;return this.length=this.length-t,i}if(t.length&&"object"==typeof t){for(n=t.length,a=0;a<n;a++)i.push(this[o]),this[o++]=t[a];for(a=0;a++<i.length;)this[o]&&i.push(this[o]),this[o]=i[a-1],o++;return this.length+=n,this}},c.prototype.next=function(){var e=this[0].nextElementSibling||W(this[0],"next");return w(e)},c.prototype.previous=function(){var e=this[0].previousElementSibling||W(this[0],"previous");return w(e)},c.prototype.parent=function(){return w(this[0].parentNode)},c.prototype.first=function(){return new c(this[0],this.w)},c.prototype.last=function(){return new c(this[this.length-1],this.w)},c.prototype.eq=function(e){return new c(this[e],this.w)},c.prototype.each=function(e){for(var t=0,n=this.length;t<n;t++)e.call(this[t],t,this[t]);return this},c.prototype.filter=function(e){for(var t=new c(void 0,this.w),n=0,i=this.length;n<i;n++)e.call(this[n],n,this[n])&&Array.prototype.push.call(t,this[n]);return t},c.prototype.alignTo=function(e){var t=e instanceof c?e:c(e);if(t.length)for(var n=0;n<this.length;n++)(1<t.length||1===t.length)&&(this[n].style.left=t.x(t[n])+"px",this[n].style.top=t.y(t[n])+"px");return this},c.prototype.x=function(e){return e?"number"==typeof e&&this[e]&&(e=this[e]):e=this[0],e.getBoundingClientRect().left},c.prototype.y=function(e){return e?"number"==typeof e&&this[e]&&(e=this[e]):e=this[0],e.getBoundingClientRect().top},c.prototype.width=function(){return this[0]&&"object"==typeof this[0]&&this[0].offsetWidth||0},c.prototype.height=function(){return this[0]&&"object"==typeof this[0]&&this[0].offsetHeight||0},c.prototype.children=function(){for(var e,t,n=[],i=0;i<this.length;i++)if(1===this.length)n=this[0].children;else for(t=(theseChildren=this[i].children).length,e=0;e<t;e++)n.push(theseChildren[e]);return c(n,this.w)},c.prototype.addClass=function(t){t=t.split(" ");for(let e=0;e<this.length;e++)this[e].classList.add(...t);return this},c.prototype.removeClass=function(e){var t=this.length;for(e="string"==typeof e?e.split(" "):e;t--;)this[t].classList.remove(...e);return this},c.prototype.hasClass=function(e){var t=this.length,n=[];for(e=e.split(" ");t--;)e.forEach(e=>{n.push(this[t].classList.contains(e))});return!n.includes(!1)},c.prototype.clone=function(){for(var e=new c(void 0,this.w),t=this.length;t--;)this[t]&&"object"==typeof this[t]&&this[t].cloneNode?e[t]=this[t].cloneNode(!0):e[t]=this[t];return e},c.prototype.data=function(e,t){var n="data-"+e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),i=this[0]&&"object"==typeof this[0]&&this[0].getAttribute;if(!t)return i&&this[0].getAttribute(n)||"";for(var o=this.length;o--;)i&&this[o].setAttribute(n,t);return this},c.prototype.on=function(e,t,n){return U(this,e,t,!1,n),this},c.prototype.off=function(e,t,n){return U(this,e,t,!0,n),this},c.prototype.prepend=function(e){return t(e,this,"first"),this},c.prototype.prependTo=function(e){return t(this,e,"first"),this},c.prototype.append=function(e){return t(e,this,"last"),this},c.prototype.appendTo=function(e){return t(this,e,"last"),this},c.prototype.before=function(e){return t(e,this,"before"),this},c.prototype.after=function(e){return t(e,this,"after"),this},c.prototype.remove=function(){for(var e=this.length;e--;)this[e]&&this[e].parentNode&&this[e].parentNode.removeChild(this[e]);return this},c.prototype.empty=function(){for(var e=this.length;e--;)this[e]&&"object"==typeof this[e]&&this[e].childNodes&&(this[e].innerHTML="");return this},c.prototype.css=function(e,t){var n;if(!this[0])return"";if("string"==typeof e&&null==t)return e=e.replace(/-([a-z])/g,function(e,t){return t.toUpperCase()}),(n=T.getComputedStyle?getComputedStyle(this[0]):this[0].currentStyle)?n[e]:e in this[0].style?"":void 0;var i=this.length,o=null!=t?{}:e;for(null!=t&&(o[e]=t);i--;)for(var a in o)this[i]&&this[i].style&&(this[i].style[a]=o[a]);return this},k.prototype.receiveMessages=function(e){var t,n={method:"",msg:""};try{n=JSON.parse(e.data)}catch(e){}if("HTML5core"!==n.source)if(e=n.msg,t=this.get("pID"),e&&e.hasOwnProperty("placementId")&&e.placementId&&e.placementId!=t||"init"!==n.method||this.hasLoaded)this[n.method]&&this.hasLoaded&&(e=n.msg?"Array"===n.msg.constructor.name?n.msg:[n.msg]:null,this["dispatch"===n.method?"dispatcher":n.method].apply(this,e));else{for(var i in this.placementProperties.state="default",this.hasLoaded=!0,n.msg)this.placementProperties[i]=n.msg[i];n.msg.newGUID&&!this.get("adPreview")&&this.newGUID(),this.dispatch("ready",n)}},k.prototype.resizeText=function(e,t){t=t||"px";var n=myFT.$(e),r=0;function i(e,t){var n=(new Date).getTime(),i=myFT.$(e),o=e.style.overflow,a="px"===t?1:.1;if(e.textContent){for(i.css("overflow","hidden"),i.css("font-size",a+t);!(isOverflowing=e.clientWidth<e.scrollWidth||e.clientHeight<e.scrollHeight)&&(new Date).getTime()-n<250;)r+=a,i.css("font-size",r+t);r-=a,i.css("font-size",r+t),i.css("overflow",o)}}for(var o=n.length;o--;)i(n[o],t)},k.prototype.dispatcher=function(e){this.dispatch(e.ev||e,e.msg)},k.prototype.send=function(e,t){var n=this.get("creativeID"),i=this.get("pID");t&&(n&&(t.creativeId=n),i)&&(t.placementId=i),this.testMode||(T.parent||T).postMessage(JSON.stringify({method:e,msg:t,source:"HTML5core"}),"*")},k.prototype.get=function(e){var t="";return t=void 0!==this.placementProperties[e]?this.placementProperties[e]:t},k.prototype.getManifest=function(e){var t="";return t=void 0!==this.manifestProperties[e]?this.manifestProperties[e]:t},k.prototype.checkLoaded=function(){return this.error("checkLoaded","Check against myFT.hasLoaded - http://www.flashtalking.net/helpSystem/EN/HTML5/jsDocs/classes/FT.html#property_hasLoaded","deprecated"),this.hasLoaded},k.prototype.tracker=function(e,t,n){for(var i=this.manifestProperties.trackingEvents||[],o=i.length,a=null;o--;)if(e===i[o].name){if(a=101+o,"standard"===i[o].type){if(this.firedStandardEvents[a])return;this.firedStandardEvents[a]=!0}else"string"===i[o].type&&2===arguments.length&&(n=t,t=0);break}a?this.send("tracker",{type:"custom",num:a,value:t,string:n}):myFT.error("tracker","No tracker from the manifest matches "+e,"warn")},k.prototype.clickManager=function(e){var t="expanded"!==this.getState()&&myFT.manifestProperties.expand||{indentDown:0,indentAcross:0};this.send("tracker",{type:"clickmap",x:e.pageX+t.indentDown,y:e.pageY+t.indentAcross})},k.prototype.getClickTag=function(e,t){0===String(t).indexOf("//")&&(t=("https"===location.protocol?"https:":"http:")+t);var n,o,i="",a=(t&&-1<t.indexOf("#")&&(t=(a=t.split("#"))[0],i="#"+a[1]),"clickTag"+(e||"")),e=document.createElement("a"),r=this.get("clicks"),s="",c=this.testMode||this.get("adPreview"),l={urlCustom:t||"",clickSuf:this.get("ftClickSuf"),escapeIterations:parseInt(this.get("ftEscapeMod"),10)||0,clickTag:a};function d(e,t){return e=e||!1,t=t||"",new RegExp((e?"^":"")+"("+["http","https","mailto","sms","smsto","tel","facetime","market","spotify","fb","twitter","googlechrome","googlechromes","mopubnativebrowser"].join("|")+")(:|%3A|%253A|%25253A)",t)}if(this.hasLoaded){if(t){if(e.href=t,d(!0).test(e.protocol)&&"http"!==e.protocol.slice(0,4)&&c)return t;if("function"==typeof myFT.w.customSAClick||"function"==typeof T.customSAClick){var h,u=(myFT.w.customSAClick||T.customSAClick)(l);for(h in u)l[h]=u[h]}t=(l=(e=>{var t=e.escapeIterations;if(e.clickSuf)switch(e.urlCustom.charAt(e.urlCustom.length-1)){case"?":case"&":break;default:-1!=e.urlCustom.indexOf("?")?e.clickSuf="&"+e.clickSuf:e.clickSuf="?"+e.clickSuf,i&&(e.clickSuf+=i)}for(;t--;)e.urlCustom=encodeURIComponent(e.urlCustom),e.clickSuf=encodeURIComponent(e.clickSuf);return e})(l)).urlCustom+l.clickSuf,d(!0).test(l.urlCustom)?this.testMode||this.get("adPreview")?s=r[a]+"&APPEND=false&DYNCTTEST="+encodeURIComponent(t):(e=/(&|%26|%2526)url(=|%3D|%253D)\d+/,s=(n=r[l.clickTag].split("?"))[0],n[1]=n.slice(1).join("?"),e.test(n[1])?s+="?"+n[1].replace(e,"$1url$2"+t):(n[1].replace(d(!1,"g"),function(e,t,n,i){o=i}),s+="?"+n[1].slice(0,o)+t)):s=c?r[a]+"&APPEND=true&DYNCTTEST="+encodeURIComponent(t):r[a]+encodeURIComponent(t)}else s=r[a];return s}this.error("getClickTag","get ClickTag was called before the myFT.hasLoaded == true")},k.prototype.clickTag=function(e,t){if(!this.hasLoaded)return this.error("clickTag","clickTag method called before hasLoaded === true");t=this.getClickTag(e,t);this.send("interactionComplete"),this.send("clickthrough",{clickTag:e||1,url:t}),this.dispatch("clickthrough"),(this.clickEvents||this.get("clickEvents")||[]).forEach(function(e){(new Image).src=e}),"ext"===this.get("api")?this.send("open",t):(e=/((sms|tel|mailto|spotify|facetime):|https?:\/\/maps\.)/i.test(t)&&/ip(ad|hone|od)/i.test(navigator.platform)?"_top":"_blank",T.open(t,e),this.contract())},k.prototype.applyClickTag=function(e,t,n){e instanceof w||(e=w(e));var i=this;i.hasLoaded?(e.css("cursor","pointer"),e.on("click",function(e){i.clickTag(t,n),i.clickManager(e),e.stopPropagation?e.stopPropagation():void 0!==e.cancelBubble&&(e.cancelBubble=!0)})):i.on("ready",function(){i.applyClickTag(e,t,n)})},k.prototype.applyButton=function(t,n){t instanceof w||(t=w(t));var i=this;i.hasLoaded?(t.on("click",function(e){i.clickManager(e),e.stopPropagation?e.stopPropagation():void 0!==e.cancelBubble&&(e.cancelBubble=!0),n.call(i,e)}),t.css("cursor","pointer")):i.on("ready",function(e){i.applyButton(t,n)})};function B(e){e.preventDefault&&e.preventDefault()}var n,G="touchAction"in(n=document.createElement("div").style)&&(n.touchAction="none")===n.touchAction;function k(){var e,t,n,l,i,o,a,r,s,d,c,h,u,p,f,m,y=this,g=y.$(T);function v(e,t,n){if(!n&&s[e])this.isViewable()&&r.on(e,t),a.push([e,t]);else if(n)for(var i=a.length;i--;)t===a[i][1]&&(a.splice(i,1),r.off(e,t));else this.error("applyListener","deviceorientation is not supported in this browser","warn")}y.makeDispatcher(y),l=y,o=/iP(ad|od|hone)/.test(navigator.platform),a=[],r=w(l.w),s={deviceorientation:"DeviceOrientationEvent"in l.w,devicemotion:"DeviceMotionEvent"in l.w,shake:"DeviceMotionEvent"in l.w},d={threshold:15,interval:0},c={sensitivity:.9,alpha:0,beta:0,gamma:0},h={alpha:0,beta:0,gamma:0},u=(()=>{var e;return"function"==typeof l.w.document.CustomEvent?e=new l.w.document.CustomEvent("shake",{bubbles:!0,cancelable:!0}):"function"==typeof l.w.document.createEvent&&(e=l.w.document.createEvent("Event")).initEvent("shake",!0,!0),e})(),l.on("viewableChange",function(e){for(var t=!1===e||"no"===e,n=a.length;n--;)r[t?"off":"on"](a[n][0],a[n][1])}),k.prototype.resetorientation=function(){c.alpha=h.alpha,c.beta=h.beta,c.gamma=h.gamma},k.prototype.deviceorientation=function(t,e){this.orientationNormaliser=this.orientationNormaliser||function(e){void 0===i&&(i=e.alpha),h={alpha:((o?e.alpha:e.alpha-i)%360+360)%360,beta:e.beta,gamma:e.gamma,alphaRelative:(((o?e.alpha:e.alpha-i)-c.alpha)%360+360)%360,betaRelative:e.beta-c.beta,gammaRelative:e.gamma-c.gamma,type:e.type,originalEvent:e,heading:o?e.webkitCompassHeading:e.alpha},t(h)},v.call(this,"deviceorientation",this.orientationNormaliser,!!e)},k.prototype.devicemotion=function(t,e){var n={acceleration:{x:0,y:0,z:0},accelerationIncludingGravity:{x:0,y:0,z:0}};this.motionNormaliser=this.motionNormaliser||function(e){n.acceleration={x:c.sensitivity*n.acceleration.x+(1-c.sensitivity)*e.acceleration.x,y:c.sensitivity*n.acceleration.y+(1-c.sensitivity)*e.acceleration.y,z:c.sensitivity*n.acceleration.z+(1-c.sensitivity)*e.acceleration.z},n.accelerationIncludingGravity={x:c.sensitivity*n.accelerationIncludingGravity.x+(1-c.sensitivity)*e.accelerationIncludingGravity.x,y:c.sensitivity*n.accelerationIncludingGravity.y+(1-c.sensitivity)*e.accelerationIncludingGravity.y,z:c.sensitivity*n.accelerationIncludingGravity.z+(1-c.sensitivity)*e.accelerationIncludingGravity.z},t(n)},v.call(this,"devicemotion",this.motionNormaliser,!!e)},k.prototype.shake=function(e,t,n){for(var i in n=n||{},d)n[i]=n[i]||d[i];var o,a,r,s,c;v.call(this,"devicemotion",(o=n,c=Date.now()-o.interval,function(e){var e=e.accelerationIncludingGravity,t=Math.abs(a-e.x),n=Math.abs(r-e.y),i=Math.abs(s-e.z);(t>o.threshold&&n>o.threshold||t>o.threshold&&i>o.threshold||n>o.threshold&&i>o.threshold)&&(t=Date.now())-c>o.interval&&(c=t,l.w.dispatch(u)),a=e.x,r=e.y,s=e.z})),v.call(this,"shake",e,!!t)},y.version="2.10",y.placementProperties=t={},y.placementProperties.state="loading",y.manifestLoaded=!1,y.manifestProperties={},y.firedStandardEvents={},y.hasLoaded=!1,y.testMode=!1,y.politeloadFired=!1,y.adsLinked=!1,y._availableVideos={},y._instantAdsVars={},y.msgListener=function(e){y.receiveMessages(e)},T!==T.top&&-1===location.search.indexOf("test")||T.__preventFTTestMode?g.on("message",this.msgListener):y.testMode=!0,y.on("politeload",function(){y.politeloadFired=!0});try{y.testMode?(y.placementProperties=t=k.testing.call(y,{clickTagCount:20}),T.matchMedia&&(p=matchMedia("(orientation: portrait)"),f=function(){var e=this.matches?0:90;setTimeout(function(){y.dispatch("orientationchange",{orientation:e,width:T.innerWidth,height:T.innerHeight,scale:T.innerWidth/document.documentElement.clientWidth})})}.bind(p),p.addListener?p.addListener(f):g.on("resize",f),f(p))):document.querySelector("innovid-creative")?(m=document.querySelector("innovid-creative"),y.frameless=1,y.placementProperties=t=m.creativeProperties):y.placementProperties=t=JSON.parse(T.name),T.name=""}catch(e){}try{t.guid=T.localStorage.ftGUID||t.guid}catch(e){t.guid=t.guid}if((n=t.clicks)&&n.clickTag&&!~n.clickTag.indexOf(t.guid))for(var b in n)n[b]=n[b].replace(/(\b|%3F|%253F)g(=|%3D|%253D)[A-Z0-9]{14}\b/,"$1g$2"+t.guid);for(e in y.on("orientationchange",function(e){t.orientation=e.orientation,t.maxWidth=e.width,t.maxHeight=e.height,t.scale=e.scale}),y.on("statechange",function(e){t.state=e}),y.on("viewablechange",function(e){t.isViewable=e}),y.visibility={aboveThreshold:!1,percentInView:0,shouldPlay:!1,undetectable:!1},y.on("visibilityupdate",function(e){y.visibility=e}),y.on("maxsizechange",function(e){t.maxWidth=e.width||y.placementProperties.maxWidth,t.maxHeight=e.height||y.placementProperties.maxHeight}),y.on("sizechange",function(e){t.currentWidth=e.width,t.currentHeight=e.height}),y.on("availablespacechange",function(e){t.expandSpace=t.expandSpace||{},t.expandSpace.top=e.top,t.expandSpace.right=e.right,t.expandSpace.bottom=e.bottom,t.expandSpace.left=e.left}),t.currentWidth=t.currentWidth||T.innerWidth||document.documentElement.clientWidth,t.currentHeight=t.currentHeight||T.innerHeight||document.documentElement.clientHeight,g.on("click",function(e){y.clickManager.call(y,e)},!1),g.on("pointerdown MSPointerDown touchstart",function(e){y.send("interaction")}),g.on("resize",function(e){y.dispatch("sizechange",{width:T.innerWidth||document.documentElement.clientWidth,height:T.innerHeight||document.documentElement.clientHeight})}),"loading"!==document.readyState?(y.dispatch("DOMLoaded"),"complete"===document.readyState||"loaded"===document.readyState?y.dispatch("load"):g.on("load",function(e){y.dispatch("load",e)})):y.$(document).on("readystatechange",function(){"interactive"===document.readyState?y.dispatch("DOMLoaded"):y.dispatch("load")}),F)F[e].call(this);y.on("manifest",function(e){var t={version:y.version,location:location.href,guid:y.get("guid")||!1};y.testMode?(e=e,e={method:"init",msg:k.testing.call(y,e)},y.receiveMessages({data:JSON.stringify(e)})):y.send("ready",t)});this.version.toString().split(".").join("/");y.styleSheet=y.insertCSS(document,this.defaultCSS),t.frameless?y.require([t.creativeAssetPath+"manifest.js"]):y.require(["manifest.js"]),y.on("expand",function(){document.body.setAttribute("ft-expanded",""),y.w.document.body.setAttribute("ft-expanded","");for(var e=document.body.getElementsByTagName("ft-richload"),t=0;t<e.length;t++)e[t].contentDocument.body&&e[t].contentDocument.body.setAttribute("ft-expanded","")}),y.on("contract",function(){document.body.removeAttribute("ft-expanded"),y.w.document.body.removeAttribute("ft-expanded");for(var e=document.body.getElementsByTagName("ft-richload"),t=0;t<e.length;t++)e[t].contentDocument.body.removeAttribute("ft-expanded")})}function Y(e){if(e.richLoads||e.richloads||e.instantAds){var n=e.richloads||e.richLoads,t=e.instantAds,i=n&&n.length||0,o=function(){var e,t,n=myFT.richloads;for(t in n)!0!==n[t].used&&("dynamic"===n[t].type&&(myFT.instantAdsLoaded?n[t].src=myFT.instantAds&&myFT.instantAds[t]?myFT.instantAds[t]:n[t].src:(myFT.callbacks.instantads=myFT.callbacks.instantads||[],o._once=!0,myFT.callbacks.instantads.push(o))),e=document.querySelector("#"+t))&&"RICHLOAD"===e.tagName&&(myFT.error("<ft-richload>","The <richload> tag is deprecated and may not support newer features. Use <ft-richload> instead.","warn"),(e=e.appendChild(new T.FTRichloadElement)).name=t)};for(myFT.richloads=myFT.richLoads={};i--;)n&&n[i]&&(myFT.richloads[n[i].name]={src:n[i].src,type:(e=>{for(var t=e&&e.length||0;t--;)if(e[t].name===n[i].name&&"richload"===e[t].type.toLowerCase())return"dynamic";return"basic"})(t),used:!1});o()}}function o(e,t,n){function i(t){return{enumerable:!0,configurable:!0,get:function(){return n[t]},set:function(e){n[t]=e}}}var o=this;this.videoElement=n.playerObject,n.addEventListener("canplay",function(){o.dispatch("playbackready")}),n.addEventListener("ended",function(){o.dispatch("ended")}),n.addEventListener("looped",function(){o.dispatch("ended")}),n.addEventListener("fullscreenchange",function(){o.dispatch("fullscreenchange",n.fullscreen)}),n.addEventListener("tracker",function(e){o.dispatch("tracker",e.detail)}),Object.defineProperties(this,{video:i("playerObject"),filepath:i("filepath"),hasPlayed:i("hasPlayed"),hasPlayedThrough:i("hasPlayedThrough"),ytVideo:{get:function(){return"youtube"===n.player},set:function(){}}}),this.settings=t,this.container=n,this.cachedStyles={},this.myFT=e||T.myFT,(e||T.myFT).makeDispatcher(this)}k.prototype.absorbSwipes=function(e){this.send("preventSwipes",!!e),G?document.documentElement.style.touchAction=e?"none":"":myFT.$(myFT.w)[e?"on":"off"]("touchmove",B)},k.prototype.newGUID=function(){var e,t=this,n=t.replaceMacros(t.get("iDeviceImp"))||"//servedby.flashtalking.com/imp/"+t.get("campaignID")+";"+t.get("pID")+";207;guid;"+t.get("siteName")+";"+t.get("placementDescription")+"/?ft_guid="+t.get("guid")+"&cachebuster="+1e9*~~Math.random();this.testMode||((e=document.createElement("iframe")).src=n.replace(/^https?:/,""),e.style.cssText="display:none",document.body.appendChild(e));try{T.localStorage.ftGUID=t.get("guid")}catch(e){}},k.prototype.error=function(e,t,n){var i="deprecated"!==(n=n||"warn")?"Error in "+e+":"+t:e+" is deprecated and may be removed in future versions. "+t;if(!/(cdn|secure).flashtalking/i.test(location.href))switch(n){case"fatal":throw new Error(i);case"deprecated":case"warn":console.warn(i);break;default:console.log(i)}return!1},k.prototype.getMaxSize=function(){return{width:this.get("maxWidth")||0,height:this.get("maxHeight")||0}},k.prototype.getState=function(){var e=this.get("state");return e="resized"===e?"expanded":e},k.prototype.replaceMacros=function(e,o){function t(e,t,n){var i="["===t?0:"%5B"===t?1:2,o=r[n.toUpperCase()];if(o||/ft_keyword/i.test(e)){for(;i--;)o=encodeURIComponent(o);return o}return e}var n,a=this,r={POSTAL:a.get("ftPostal"),DMA:a.get("ftDMA"),LAT:a.get("ftLat"),GEO_COUNTRY:a.get("ftGeoCountry"),GEO_STATE:a.get("ftGeoState"),GEO_CITY:a.get("ftGeoCity"),GEO_ISP:a.get("ftGeoISP"),GEO_SPEED:a.get("ftGeoSpeed"),LONG:a.get("ftLng")||a.get("ftLong"),SERVE_DOM:a.get("serveDom")||a.get("ftServeDom")||a.get("serveDOM")||a.testMode&&"http://cdn.flashtalking.com",PROTOCOL:"http"+("https:"===location.protocol?"s":"")+"://",GUID:a.get("guid"),CACHEBUSTER:Math.round(1e9*Math.random()),RANDOM:Math.round(1e9*Math.random()),CONFID:a.get("ftConfID"),TIMESTAMP:a.get("ftTimestamp"),PRODUCT_ID_SEGMENT:o||"",KEYWORD:a.get("ftKeyword"),IMPRESSIONID:a.get("impressionID"),REQUEST_ORIGIN:T.location.host,PRODUCT_ID:(()=>{if(""===o)return"default";for(var e=a.get("ftSegmentList"),t=e.length,n=new RegExp("("+o+"([0-9_A-z]+))"),i="";t--;)if(null!==(i=n.exec(e[t].s))){i=i[i.length-1];break}return i||"default"})()};for(n in e=e||"",r)regex=new RegExp("(\\[|%5B|%255B)(?:%|%25|%2525)?(?:FT)?_?("+n+")(?:%|%25|%2525)?(\\]|%5D|%255D)","ig"),e=e.replace(regex,t);return e},k.prototype.isViewable=function(){return this.get("isViewable")},k.prototype.getSize=function(){return{width:this.get("currentWidth"),height:this.get("currentHeight")}},k.prototype.getOrientation=function(){return this.get("orientation")},k.prototype.destroy=function(){this.send("nuke")},k.prototype.stateTrackingEvent=function(e){var t=new Image,n=arguments[1]||"ft_product";eventId=isNaN(arguments[2])?402:arguments[2],base="http"+("https:"===location.protocol?"s":"")+"://"+this.get("ftServedStump").replace(/^https?:\/\//,""),t.src=base+("/"===base[base.length-1]?"":"/")+"state/"+this.get("pID")+";"+this.get("creativeID")+";"+this.get("confID")+";"+eventId+";"+this.get("impressionID")+"/?"+n+"="+e+"&cachebuster="+Math.random(),this.stateTrackingEvent=function(){this.error("stateTrackingEvent","State tracking event can only be dispatched once.","error")}},F.communicate=function(){function i(e){for(var t in o.linkedAds[e.name]=!0,o.linkedAds)if(!o.linkedAds[t])return;o.adsLinked=!0,o.dispatch("linkready")}var o=this;o.on("manifest",function(e){if(e.communication){var t=e.communication.linked,n=t.length;for(o.linkedAds={};n--;)o.linkedAds[t[n]]=!1;o.send("communicate",{type:"register",name:e.communication.name}),o.on("linkedad",i)}})},k.prototype.talk=function(e,t){var n=this;n.adsLinked?n.send("communicate",{type:"talk",name:e,msg:t}):(n.error("talk","myFT is not able to communicate yet - this message has been queued and will fire once all communicating ads are linked","warn"),n.once("linkready",function(){n.talk(e,t)}))},k.prototype.communicate=function(e){var t={};t.type=e&&e.type||void 0,"talk"===t.type?(t.from=e.name,t.msg=e.msg):"register"===t.type&&(t.type="linkedad",t.name=e.name),t.type&&this.dispatch(t.type,t)},k.prototype.broadcast=function(e){for(var t=this.getManifest("communication")?this.getManifest("communication").linked:[],n=t.length||0;n--;)this.talk(t[n],e)},k.prototype.expand=function(e){for(var t,o=this,n=o.getManifest("expand"),i=(o.placementProperties.state="expanding",e&&void 0===e.type?e:{}),a=o.expandProperties||{},r={},s=["width","height","indentDown","indentAcross","fullscreen","nonNative","forceOrientation","allowOrientationChange","useCustomClose"],c=s.length;c--;)null!=(t=null!=i[t=s[c]]?i[t]:null!=a[t]?a[t]:null!=n[t]?n[t]:null)&&(r[s[c]]=t);if(null!=typeof r.useCustomClose&&(r.useCustomClose=!0),!o.getManifest("expand")&&!o.getManifest("video"))return o.error("expand","No expand component detailed in the manifest","fatal");r.fullscreen&&!r.nonNative&&j(o.w.document.documentElement,function(){var e,t,n,i=r.forceOrientation;i&&"none"!==i&&(e=o.w.screen.orientation&&o.w.screen.orientation.lock||o.w.screen.mozLockOrientation||o.w.screen.msLockOrientation)&&(e=e.call(o.w.screen.orientation||o.w.screen,i)).catch&&e.catch(function(){}),n="fullscreenchange webkitfullscreenchange mozfullscreenchange MSFullscreenChange",w((t=o).w.document).on(n,function e(){l()||(w(t.w.document).off(n,e),/^(?:contracting|default)$/.test(t.placementProperties.state)||t.contract(),t.dispatchEvent("statechange","default"))})}),o.send("expand",r),o.testMode&&setTimeout(function(){o.dispatchEvent("expand")},1)},k.prototype.resize=function(e){var t;this.error("resize","Please use myFT.expand instead - http://www.flashtalking.net/helpSystem/EN/HTML5/jsDocs/classes/FT.html#method_expand","deprecated"),e&&!e.type?this.setResizeProperties(e)&&(t=this.resizeProperties):(this.resizeProperties||e||this.setResizeProperties(this.getManifest("expand")),t=this.resizeProperties),t?this.expand(t):this.error("resize","resize method not successfully executed - invalid argument","warn")},k.prototype.contract=function(){var t=this;t.placementProperties.state="contracting",t.absorbSwipes(!1),t.send("contract"),t.w.document.body.style.margin=0,l()===t.w.document.documentElement&&["exitFullscreen","webkitExitFullscreen","msExitFullscreen","mozCancelFullScreen"].some(function(e){return t.w.document[e]&&(t.w.document[e](),!0)}),t.testMode&&setTimeout(function(){t.dispatchEvent("contract")},1)},k.prototype.setExpandProperties=function(e){this.error("setExpandProperties","Please use myFT.expand instead - http://www.flashtalking.net/helpSystem/EN/HTML5/jsDocs/classes/FT.html#method_expand","deprecated");var t,n=/(width|height|offsetX|offsetY|indentDown|indentAcross)/,i=[];if(e&&"object"==typeof e){for(t in e)if(n.test(t))i.push(t);else if("fullscreen"===t&&e[t]){i.length=4;break}return 4<=i.length?(void 0===e.useCustomClose&&(void 0===this.customClose?e.useCustomClose=!this.expandProperties||void 0===this.expandProperties.useCustomClose||this.expandProperties.useCustomClose:e.useCustomClose=this.customClose),void 0!==e.offsetX&&(e.indentAcross=e.offsetX,e.indentDown=e.offsetY),this.expandProperties=e,!0):(this.error("setExpandProperties","the properties object lacked the minimum requirements to set the expandProperties object {width: number, height: number, offsetX: number, offsetY: number}","warn"),!1)}this.error("setExpandProperties","the properties object was "+(null!=e?"not present":"not a valid object"),"warn")},k.prototype.setResizeProperties=function(e){this.error("setResizeProperties","Please use myFT.expand instead - http://www.flashtalking.net/helpSystem/EN/HTML5/jsDocs/classes/FT.html#method_expand","deprecated");var t,n=/(width|height|offsetX|offsetY|indentDown|indentAcross)/,i=[];if(e&&"object"==typeof e){for(t in e)n.test(t)&&i.push(t);if(4<=i.length)return e.customClosePosition||(e.customClosePosition="top-right"),void 0!==e.offsetX&&(e.indentAcross=e.offsetX,e.indentDown=e.offsetY),this.resizeProperties=e,!0;this.error("setResizeProperties","the dimensions argument lacked the minimum requirements to set the resizeProperties object {width: number, height: number, offsetX: number, offsetY: number}","fatal")}},F.feeds=function(){function r(e){var t,n,i=this.feeds;for(t in i)if(i[t].isDynamic)for(n in e)t==n?i[t].url=e[n]:t+"_segment_id"===n&&(i[t].segment=e[n]);this.dynamicFeedsPrepared=!0,this.dispatch("dynamicFeedsPrepared")}var s=this;s.on("manifest",function(e){if(e.feeds){var t=e.feeds,n=e.instantAds||[],i=!1,o=t.length,a=function(e){for(var t in e)this[t]=e[t];for(this.isDynamic=!1,this.getUrl=function(){return s.replaceMacros(this.url,this.segment)},t=n.length;t--;)if(n[t].name===this.name||n[t].name===this.name+"_segment_id")return i=i||"text"===n[t].type,void(this.isDynamic="text"===n[t].type)};for(s.feeds={};o--;)s.feeds[t[o].name]=new a(t[o]);!0===i&&s.on("instantads",r)}})},k.prototype.callFeed=function(e,n){var t,i,o,a=this,r=a.feeds&&a.feeds[e],s=function(e,t){r.data=e,t&&(r.error=!0),"function"==typeof n&&n(r),a.dispatch("feedloaded",r)};!1===a.hasLoaded?a.on("ready",function(){a.callFeed(e,n)}):r&&(r.isDynamic&&!0!==a.dynamicFeedsPrepared?a.on("dynamicFeedsPrepared",function(){a.callFeed(e,n)}):void 0===r.method?a.ajax(r.getUrl(),{context:a,complete:function(t,e){var n=(()=>{try{return JSON.parse(t.responseText)}catch(e){return t.responseText}})(),i=400<=t.status||!t.status;s(n,i)}}):(t=r.getUrl(),i=a.$("head")[0],(o=a.w.document.createElement("script")).setAttribute("src",t),a.w[r.method]=s,o.onerror=function(){s("",!0)},i.appendChild(o)))},F.instant=function(){function r(e){function i(i){if(l.frameless)for(var e in i)for(var t in i[e])/^\/\//.test(i[e][t])&&(i[e][t]="https:"+i[e][t]);for(let n in i){var o;l.instantAds[n]=i[n].value||"",i[n].cb&&l.manifestProperties.videos&&0<l.manifestProperties.videos.length&&l.manifestProperties.videos.forEach(e=>{var t;e=e,(t=n)===e.name&&(e.cb=i[t].cb)}),"string"==typeof i[n].type&&("image"===i[n].type.toLowerCase()?l.testMode?l.instantAds[n]="../../instantAssets/"+i[n].value:(o=l.get("ftURLMap").dynamicAds?i[n].prop.replace(/^.+assetmanager/,""):"/"+l.get("cID")+"/instantAssets/"+i[n].value,l.instantAds[n]=c?i[n].prop:r+o):"richload"===i[n].type&&(l.instantAds[n]=i[n].value||l.richloads[n].src))}}var t=l.get("adPreview")&&l.get("ftURLMap").dynamicAds||l.get("testConf"),n=/^data:/.test(t),o=l.get("confID"),a="../"+l.get("creativeID")+".json",r=l.get("ftServeDom"),s=l.get("mvt"),c=l.get("creativeVersion");if(c)c.hasOwnProperty("id")&&delete c.id,i(c),l.instantAdsLoaded=!0,l.dispatch("instantads",l.instantAds);else{if(t?a=t+(n?"":o):s&&(a=l.frameless?"https://"+l.placementProperties.creativeAssetPath.replace(/https?:\/\//,"").split("/").filter((e,t,n)=>t<n.length-2).join("/")+"/mv"+o+".json":"../mv"+o+".json"),!n){let e="&";a.indexOf("?")<0?e="?":a.indexOf("?")===a.length-1&&(e=""),a+=e+"cb="+~~(1e9*Math.random())}l.ajax(a,{context:l,complete:function(e,t){var n={};if(200===e.status){try{n=JSON.parse(e.responseText)}catch(e){}i(n)}l.instantAdsLoaded=!0,l.dispatch("instantads",l.instantAds)},test:function(){l.instantAdsLoaded=!0,l.dispatch("instantads",l.instantAds)}})}}var l=this;l.instantAdsLoaded=!1,l.on("manifest",function(e){if(e.instantAds){var t=e.instantAds,n=e.videos,i=e.richloads||e.richLoads||[],o=e.instantAds.length,a=0;for(l.instantAds={};o--;)if(l.instantAds[t[o].name]=t[o].default,"video"===t[o].type.toLowerCase())for(a=n.length;a--;)t[o].name===n[a].name?(l.instantAds[t[o].name]=n[a].ref,n[a].cb&&(l.instantAds[t[o].name]+="?cb="+n[a].cb)):l.instantAds[t[o].name]=l.instantAds[t[o].name];else if("richload"===t[o].type.toLowerCase())for(a=i.length;a--;)t[o].name===i[a].name?l.instantAds[t[o].name]=i[a].src:l.instantAds[t[o].name]=l.instantAds[t[o].name];l.on("ready",r)}})},k.prototype.makeDispatcher=function(e){function n(e,t,n,i){var o=e.callbacks[t]||[],a=o.length;if(i.call(e,n),i._once)for(;a--;)o[a]===i&&o.splice(a,1)}e&&(e.callbacks={},e.on=function(e,t){this.callbacks[e]=this.callbacks[e]||[],-1===this.callbacks[e].indexOf(t)&&this.callbacks[e].unshift(t);if(this instanceof k)switch(e){case"instantads":this.instantAdsLoaded&&n(this,e,this.instantAdsLoaded,t);break;case"richload":this.richloadsLoaded&&n(this,e,this.richloads,t);break;case"load":"complete"!==myFT.w.document.readyState&&"loaded"!==myFT.w.document.readyState||n(this,"load",null,t);break;case"DOMLoaded":"loading"!==myFT.w.document.readyState&&n(this,"DOMLoaded",null,t);break;case"politeload":this.politeloadFired&&n(this,"politeload",null,t);break;case"manifest":this.manifestLoaded&&n(this,"manifest",myFT.manifestProperties,t);break;case"deviceorientation":case"devicemotion":case"shake":this[e](t,!1)}},e.off=function(e,t){var n=this.callbacks[e]||[],i=n.length;for(;i--;)if(n[i]===t){n.splice(i,1);break}this instanceof k&&/device(?:motion|orientation)|shake/.test(e)&&this[e](t,!0)},e.dispatchEvent=e.dispatch=function(){var e,t=Array.prototype.slice.call(arguments,1),n=arguments[0],i=this.callbacks[n]||[],o=i.slice(0),a=o.length;for(;a--;)e=o[a],o[a].apply(this,t),i.length<o.length&&(o=i.slice(0),a=0<=o.indexOf(e)?o.indexOf(e):a),o[a]._once&&(o.splice(a,1),i.splice(a,1))},e.clearEvent=function(e){delete this.callbacks[e]},e.once=function(e,t){t._once=!0,this.on(e,t)},e.addEventListener=function(){myFT.error("addEventListener","Please use on instead - http://www.flashtalking.net/helpSystem/EN/HTML5/jsDocs/classes/FT.html#method_on","deprecated"),e.on.apply(e,arguments)},e.removeEventListener=function(){myFT.error("removeEventListener","Please use off instead - http://www.flashtalking.net/helpSystem/EN/HTML5/jsDocs/classes/FT.html#method_off","deprecated"),e.off.apply(e,arguments)})},k.prototype.insertRichload=k.prototype.insertRichLoad=function(e){var t,n=e&&(e.richload||e.richLoad);e.parent=myFT.$(e.parent)[0],e.parent&&e.parent.appendChild||myFT.error("insertRichload","Invalid parent to append rich load to","fatal"),n||myFT.error("insertRichload",'setup object does not include a "richload" property',"fatal"),(t=new T.FTRichLoadElement).name=n||"",t.style.cssText=(e.width?"width:"+e.width+"px;":"")+(e.height?"height:"+e.height+"px;":""),e.parent.appendChild(t)},F.richloads=function(){this.richloadsLoaded=this.richLoadsLoaded=!1,this.on("manifest",Y)},k.prototype.applyShare=function(e,t,n,i){var o;(e="string"==typeof e?this.$("#"+e):e)instanceof w||(e=w(e)),/ft-share-twitter/.test(e[0].className)&&(o="http://twitter.com/share?text="+encodeURIComponent(i)+"&url="+encodeURIComponent(n)),myFT.applyClickTag(e,t,o)},k.prototype.tweet=function(e,t,n){myFT.clickTag(e,"http://twitter.com/share?text="+encodeURIComponent(n||"")+"&url="+encodeURIComponent(t))},k.testing=function(e){for(var t="https://wfe-scripts.flashtalking.net/helpSystem/TiA/?n=",n=e.clickTagCount,i=1,o={clicks:{clickTag:t+"0"},confID:"0",creativeID:"0",cID:"0",serveDOM:"",api:"ft",mvt:!1,guid:"0",newGUID:!1,newImp:"",maxWidth:T.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,maxHeight:T.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,isViewable:!0,state:"default"},i=1;i<=20;i++)o.clicks["clickTag"+i]=t+(i<=n?i:"error");return this.dispatch("politeload"),o},k.prototype.Video=o;for(var s,X=["play","pause","stop","restart","goFullscreen","fallbackFullscreen","leaveFullscreen"];s=X.shift();)o.prototype[s]=(e=>function(){this.container[e]()})(s);o.prototype.isFullscreen=function(){return this.container.fullscreen},k.prototype.Video.prototype.mute=function(){this.container.muted=!0},k.prototype.Video.prototype.unmute=function(){this.container.muted=!1},k.prototype.Video.prototype.loadVid=function(){},k.prototype.Video.prototype.switchVideo=function(e){return this.container.name=e,this},k.prototype.Video.prototype.loadYouTubeVid=function(){},k.prototype.insertVideo=function(e){T.HTMLVideoElement||T.HTMLMediaElement||T.HTMLElement;var t,n,i=this,o="";if(e)if(e.video)if(e.parent){if("object"==typeof e.parent){for(t in e.parent=e.parent instanceof i.$?e.parent[0]:e.parent||document.body,e.controlsParent=e.controlsParent&&e.controlsParent instanceof i.$?e.controlsParent[0]:e.controlsParent,(n=new e.parent.ownerDocument.defaultView.FTVideoElement).className="ft-video",n.setAttribute("data-ft-video",e.video),e.width&&(o+="width:"+e.width+"px;",n.style.width=e.width+"px"),e.height&&(o+="height:"+e.height+"px;",n.style.height=e.height+"px"),o&&this.styleSheet.sheet.insertRule('[data-ft-video="'+e.video+'"] {'+o+"}",this.styleSheet.sheet.cssRules.length),e.clickTag&&(n.clickTag=!0===e.clickTag?0:e.clickTag),e)try{e[t]&&!/^(?:video|clicktag|parent|controlsParent|forceAutoplay)$/i.test(t)&&(n[t]=e[t])}catch(e){}return e.parent.appendChild(n),this.applyVideo(n,e)}i.error("insertVideo","The parent, defined in the settings argument, should be an HTML Div Element")}else i.error("insertVideo","There was no parent element defined in the settings argument");else i.error("insertVideo","The settings argument did not contain a video name for referencing against the manifest or it was falsey");else i.error("insertVideo","No settings object was passed to the insertVideo method")},k.prototype.applyVideo=function(e,t){var n=new this.Video(this,t,e);return(n.container=e).name=t.video,n};var J=T.myFT=new k;function Q(i){i.FT.prototype=k.prototype,i.FT.manifest=function(e){return i.myFT.manifest(e)},i.FT.ajax=function(){return myFT.error("ajax(static)","Please use the instance method on myFT - http://www.flashtalking.net/helpSystem/EN/HTML5/jsDocs/classes/FT.html#method_ajax","deprecated"),i.myFT.ajax.apply(i.myFT,arguments)},i.FT.include=function(e,t){return myFT.error("include(static)","Please use require - http://www.flashtalking.net/helpSystem/EN/HTML5/jsDocs/classes/FT.html#method_require","deprecated"),i.myFT.require([e],t)},i.FT.query=function(){return i.myFT.query.apply(i.myFT,arguments)},i.FT.define=function(e){return myFT.error("define(static)","Please use the define method that exists on myFT rather than the static method on FT","deprecated"),i.myFT.define.apply(i.myFT,arguments)},i.FT.require=function(){return myFT.error("require(static)","Please use the require method that exists on myFT rather than the static method on FT","deprecated"),i.myFT.require.apply(myFT,arguments)},i.FT.$=function(){myFT.error("$(static)","Please use the $ method that exists on myFT rather than the static method on FT","deprecated");var e=[];return 1===arguments.length&&(e[0]=arguments[0],e[1]=i),i.myFT.$.apply(i.myFT,e)},i.FT.addEventListener=function(){return i.myFT.addEventListener.apply(i.myFT,arguments)},i.FT.removeEventListener=function(){return i.myFT.removeEventListener.apply(i.myFT,arguments)},i.FT.dispatchEvent=function(){return i.myFT.dispatchEvent.apply(i.myFT,arguments)},i.FT.listen=i.FT.addListener=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return(e=i.myFT.$(t.shift())).on.apply(e,t)}}function h(e){if(myFT.instantAdsLoaded&&e.name&&!e[d].dynamicContentAdded){var t,n=e.name,o=e.attributes,a=myFT._instantAdsVars[e.name]||"";if(e.innerHTML="","video"===a||"text"===a&&myFT._availableVideos[n]&&myFT._availableVideos[n].ytVideo){for(t=new FTVideoElement,i=o.length;i--;)"name,preload,autoplay,controls,loop,poster,muted".indexOf(o[i].name.toLowerCase())<0||(o[i].value?t.setAttribute(o[i].name,o[i].value):t.setAttributeNode(document.createAttribute(o[i].name)));e.appendChild(t)}else"text"===a?(e.innerHTML=myFT.instantAds[n],e.resizeText&&myFT.resizeText(e)):"image"===a?((t=new Image).src=myFT.instantAds[n],e.appendChild(t)):"richload"===a.toLowerCase()&&((t=new u).name=n,e.appendChild(t));e[d].dynamicContentAdded=!0}}T.FT=function(){return J},Q(T),(T.console&&"doctype"in document&&!document.doctype||document.documentMode<8)&&console.warn("Warning: this document has no DOCTYPE declaration. Rendering and features may not adhere to web standards. For more information, see https://developer.mozilla.org/en-US/docs/Quirks_Mode_and_Standards_Mode."),myFT.define("_ft-elements",function(){var d={},r={},n=document.createElement,s=T.HTMLElement.prototype.setAttributeNode,i=T.HTMLElement.prototype.setAttribute,c=T.HTMLElement.prototype.removeAttribute;function h(e){var t=e.document;e.__spiedOn||(e.__spiedOn=!0,e.HTMLDocument.prototype.createElement=f,new MutationObserver(function(e){for(var t in e){t=e[t];"childList"===t.type&&(0<t.addedNodes.length&&a("attachedCallback",t.addedNodes[0]),0<t.removedNodes.length)&&a("detachedCallback",t.removedNodes[0])}}).observe(t,{childList:!0,subtree:!0}),e.HTMLElement.prototype.setAttribute=function(){o.call(this,i,arguments)},e.HTMLElement.prototype.setAttributeNode=function(){o.call(this,s,arguments)},e.HTMLElement.prototype.removeAttribute=function(){o.call(this,c,arguments)})}function o(e,t){var n=e===c,i=e===s?t[0].name:t[0],o=null,a=this.tagName.toLowerCase();if(this.hasAttribute(i)){if(o=this.getAttribute(i),!n&&2===t.length&&String(t[1])===o||e===s&&this.hasAttribute(i)&&!o)return e.apply(this,t)}else if(n)return e.apply(this,t);e.apply(this,t),d.hasOwnProperty(a)&&this.attributeChangedCallback&&this.attributeChangedCallback(i,o,n?null:String(t[1])||"",null)}function a(e,t){var n=[t],i=Object.keys(d);if(t.tagName&&i.length){for(var o,a=0,r=(o=t.querySelectorAll(i.join(","))).length;a<r;a++)n.push(o[a]);for(a=0,r=n.length;a<r;a++){var s=d[(n[a].tagName||"").toLowerCase()];s&&(!n[a][e]&&s[e]?p(n[a],n[a].ownerDocument):n[a][e]&&n[a][e]())}}}function u(s,c,l){l=l||T.document;function e(e,t){d[e]=t;for(var n=(r[e]||[]).concat(Array.prototype.slice.call(l.getElementsByTagName(e))),i=0,o=n.length;i<o;i++)p(n[i],l);return delete r[e],a}var t,a=function(){return f.call(l,s)},i=T.Symbol?Symbol.for("-ft-"+s+"-registered"):"__"+s+"_registered",n=Object.create(T.HTMLElement.prototype),o=s+"[clickaction], "+s+"[clicktag]";for(t in s=s.toLowerCase(),c)n[t]=c[t];return myFT.insertCSS(l,o+"{ cursor:pointer}"),n.createdCallback=function(){function e(t,n){return n=n||String,{get:function(){var e=this.getAttribute(t);return null==e?e:n(e)},set:function(e){null==e?this.deleteAttribute(t):this.setAttribute(t,n===Number&&isNaN(n(e))?"":n(e))}}}var i=!1,o={expand:function(){myFT.expand()},contract:function(){myFT.contract()}};"function"==typeof c.createdCallback&&c.createdCallback.call(this),this.__created=!0,myFT.$(this).on("click mouseover mouseout",function(e){var t="mouseover"===e.type?"hover":"mouseout"===e.type?"leave":e.type,n=this.getAttribute(t+"action");if("hover"===t){if(i)return;i=!0}else if("leave"===t){if(this.contains(e.relatedTarget||e.toElement))return;i=!1}n&&o[n]?o[n]():"click"===t&&this.hasAttribute("clicktag")&&myFT.clickTag(+this.getAttribute("clicktag"),this.getAttribute("clicktagvalue")),"click"===t&&(o[n]||this.hasAttribute("clicktag"))&&(myFT.clickManager(e),e.stopPropagation?e.stopPropagation():e.cancelBubble=!0)}),Object.defineProperties(this,{clickTag:e("clicktag",Number),clickTagValue:e("clicktagvalue"),clickAction:e("clickaction"),hoverAction:e("hoveraction"),leaveAction:e("leaveaction")})},l===T.document&&myFT.on("richloadloading",function(a){var e=T,t=l,n="FT"+s.replace(/^ft|-([a-z])/g,function(e,t){return(t||"").toUpperCase()})+"Element",r=function(e){"loaded"===e.type&&(myFT.$(a).off("loaded",r),myFT.$(a).off("beforescript",r));for(var t=l,n=(t="null"!==T.origin&&a.contentDocument?a.contentDocument:t).getElementsByTagName(s),i=0,o=n.length;i<o;i++)p(n[i],t)};"null"!==T.origin&&a.contentWindow&&a.contentDocument&&(e=a.contentWindow,t=a.contentDocument),t[i]||(e[n]=u(s,c,t),e[n].prototype.createdCallback.__default=T[n].prototype.createdCallback.__default),h(e),ce.forEach(function(e){t&&t.addEventListener(e,le,!0)}),myFT.$(a).on("beforescript",r),myFT.$(a).on("loaded",r)}),l[i]&&myFT.error("register","Tried to register an element, "+s+", but it's already registered","fatal"),l[i]=!0,-1===s.indexOf("-")&&myFT.error("register","Custom elements must have a hyphen in the tag","fatal"),a.prototype=n,a=e(s,n),"ft-photo"===s&&e("ft-photoinput",Object.create(n)),a}function p(e,t){var n=d[e.tagName.toLowerCase()];Object.setPrototypeOf(e,n),"function"!=typeof e.createdCallback||e.__created||e.createdCallback(),"function"==typeof e.attachedCallback&&t.documentElement.contains(e)&&e.attachedCallback()}function f(t){let e;try{e=n.call(this,t),t=t.toLowerCase()}catch(e){console.log(t,e)}return"ft-"===t.slice(0,3)&&(d[t]?p(e,this):(r[t]||(r[t]=[]),r[t].push(e))),e}function l(t){return function e(){"function"==typeof this[t]&&this[t]!==e&&this[t].apply(this,arguments)}}function e(e,n,t){var i=[];proto={load:function(){-1===i.indexOf(this)&&(i.push(this),1===i.length)&&(this.ownerDocument.defaultView||this.ownerDocument.parentWindow).require([t],function(){for(;i.length;){t=e=void 0;var e=i[0],t=n,t=(e&&(e.ownerDocument.defaultView||e.ownerDocument.parentWindow))[t].prototype;try{e.__created&&((t.createdCallback||e.createdCallback).__default||e.__nonDefaultCreated)||(e.__nonDefaultCreated=!0,(t.createdCallback||e.createdCallback).call(e))}finally{try{e.ownerDocument.body.contains(e)&&e.attachedCallback()}finally{e.dispatchEvent?(t=Event.length?new CustomEvent("elementupgraded"):document.createEvent("CustomEvent"),Event.length||t.initCustomEvent("elementupgraded",!1,!1,!1),e.dispatchEvent(t)):e.fireEvent("elementupgraded")}}i.shift()}})},createdCallback:function(){var e=this,t=e.ownerDocument;t.body.contains(e)&&(t=t.querySelector("ft-expand"))&&t.contains(e)?myFT.once("expand",function(){e.load()}):e.load()},attachedCallback:l("attachedCallback"),detachedCallback:l("detachedCallback"),attributeChangedCallback:l("attributeChangedCallback")},myFT.w[n]=u(e,proto),myFT.w[n].prototype.createdCallback.__default=!0}return h(T),e("ft-photo","FTPhotoElement","photoinput"),e("ft-map","FTMapElement","maps"),e("ft-carousel","FTCarouselElement","carousel"),e("ft-slide","FTSlideElement","carousel"),e("ft-slide-nav","FTSlideNavElement","carousel"),myFT.w.FTPhotoInputElement=myFT.w.FTPhotoElement,T.FTClickElement=u("ft-click",{}),T.FTExpandElement=u("ft-expand",{createdCallback:function(){var i=this;Object.defineProperty(this,"customClose",{get:function(){return this.hasAttribute("customclose")},set:function(e){e?this.setAttributeNode(document.createAttribute("customclose")):this.removeAttribute("customclose")}}),myFT.$(this).on("click",function(e){var t="offsetX"in e?e.offsetX:e.clientX,n="offsetY"in e?e.offsetY:e.clientY;i.hasAttribute("customclose")||e.target!==i||t<=i.offsetWidth&&t>=i.offsetWidth-35&&n&&n<=35&&(e.stopImmediatePropagation(),e.preventDefault(),myFT.contract())}),myFT.on("ftvideoinserted",function(e){var t=document.body;function n(){/expand(ed|ing)/.test(myFT.getState())||!i.contains(e.target)&&!i.contains(t)||e.target.pause()}t=(t=e.target.ownerDocument.defaultView!==T?e.target.ownerDocument.defaultView.frameElement:t)&&t.parentNode&&t.parentNode.host||t||document.body,e.target.autoplay&&!/expand(ed|ing)/.test(this.getState())&&(i.contains(e.target)||i.contains(t))&&(myFT.$(e.target).on("play",n),myFT.on("expand",e.target.play.bind(e.target))),myFT.on("contract",n)})}}),T.FTDefaultElement=u("ft-default",{}),u}),e("dynamicelement",["_ft-elements"],function(e){return T.FTDynamicElement=e("ft-dynamic",{attributeChangedCallback:function(e,t,n){"name"===e&&n!==this[d].name?this.name=n:"resizetext"===e.toLowerCase()&&(this.resizeText=null!==n)},createdCallback:function(){var i=this,t=!1,o=!1;function a(e){myFT.instantAdsLoaded||t?myFT.instantAdsLoaded&&h(e):(t=!0,myFT.once("instantads",function(){t=!1,r(),h(e)}))}function r(){i.name&&null==myFT._instantAdsVars[i.name]?(myFT.error("ft-dynamic",'resetting ft-dynamic with name "'+i.name+'" as it does not match any instant ads variable names'),i.name=null):h(i)}i[d]={name:i.getAttribute("name")||null,dynamicContentAdded:!1,resizeText:i.hasAttribute("resizetext")},Object.defineProperties(i,{name:{get:function(){return i[d].name},set:function(e){function t(){(i[d].name=e)?i.setAttribute("NAME",e||""):i.removeAttribute("NAME"),o||myFT.manifestLoaded||(o=!0,myFT.once("manifest",r)),a(i)}var n=myFT.manifestLoaded&&myFT._instantAdsVars[i[d].name];myFT.manifestLoaded?!n&&myFT._instantAdsVars[e]||null===e?t():myFT.error("ft-dynamic","cannot set name to "+e+(n?" - once name is set and a the manifest loads it is read-only":" as it does not match an instant ads variable name"),"warn"):i[d].name||t()}},resizeText:{get:function(){return i[d].resizeText},set:function(e){i[d].resizeText=!!e,i[d].resizeText?(myFT.resizeText(this),this.setAttributeNode(document.createAttribute("resizetext"))):this.removeAttribute("resizeText")}}}),a(i)},attachedCallback:function(){this.resizeText&&myFT.instantAdsLoaded&&myFT.resizeText(this)}}),T.FTDynamicElement});class u extends HTMLElement{static observedAttributes=["name","id"];#frame;#loaded=!1;#setup=!1;#doc=!1;#src="";#root=this;#isFrameless=!1;constructor(){super();let n=this;this.#isFrameless=myFT.frameless,this.#frame=this.#isFrameless?this:document.createElement("iframe"),this.#loaded=!1,this.#root=this.attachShadow?this.attachShadow({mode:"open"}):this,this.myFT=T.myFT,this.baseUrlPath=(myFT.placementProperties.creativeAssetPath||"").split("/").map((e,t,n)=>t+2<n.length?e:"").join("/"),this.creativeAssetPath=myFT.get("creativeAssetPath"),this.baseUrlPath=this.baseUrlPath.substring(0,this.baseUrlPath.length-1),this.creativeParentAssetPath=myFT.placementProperties.creativeAssetPath,this.#isFrameless?(this.style.width="100%",this.style.height="100%",this.style.visibility="hidden",this.style.position="relative",this.style.overflow="hidden",this.dataset.frameless=1):(this.#frame.style.width="100%",this.#frame.style.height="100%",this.#frame.style.visibility="hidden",this.#frame.frameBorder=0,this.#frame.scrolling="no",this.#frame.setAttribute("margin","0"),this.#frame.setAttribute("allowTransparency","true"),this.#frame.setAttribute("allowfullscreen",""),this.#frame.setAttribute("webkitallowfullscreen",""),this.#frame.addEventListener("load",function(){var e,t;"about:blank"!==n.#frame.contentWindow.location.href&&n.#frame.contentWindow.myFT&&(t=n.#frame.contentDocument,(T.console&&"doctype"in t&&!t.doctype||t.documentMode<8)&&console.warn("Warning: "+t.location.pathname+" has no DOCTYPE declaration. Rendering and features may not adhere to web standards. For more information, see https://developer.mozilla.org/en-US/docs/Quirks_Mode_and_Standards_Mode."),(myFT.richloads[n.name].frame=n).#loaded=myFT.richloads[n.name].loaded=!0,e=n.#checkAllRLsLoaded(),myFT.insertCSS(n.#frame.contentDocument,myFT.defaultCSS),n.#frame.style.visibility="","dispatchEvent"in n&&n.dispatchEvent(new CustomEvent("loaded")),T.document.body.hasAttribute("ft-expanded")&&t.body.setAttribute("ft-expanded",""),myFT.dispatch("richload",e))}))}connectedCallback(){function e(e){try{e.#setup?e.#doc&&e.#renderMarkup():e.#setupRichload()}catch(e){}}this.#isFrameless?this.myFT.on("manifest",()=>{this.manifestInfo=T.myFT.richloads[this.name],""!==this.name&&e(this)}):""===this.name&&""===this.id||e(this)}disconnectedCallback(){(this.#isFrameless||this.#root.contains(this.#frame))&&(this.#root.innerHTML="",this.#setup=!1)}connectedMoveCallback(){}adoptedCallback(){}attributeChangedCallback(e,t,n){if(("name"===(e=e.toLowerCase())||"id"===e)&&this.ownerDocument.body.contains(this))try{this.#setupRichload()}catch(e){}}#setupRichload(){let a=this,e=myFT.get("serveDOM"),t=a.name,n,r,s=["<script>(","  function () {","    if (window.dispatchEvent) {","      var evt = document.createEvent('CustomEvent');","      evt.initCustomEvent('beforescript', false, false, null);","      window.ftRichloadElement.dispatchEvent(evt);","    }","  }",")()<\/script>"].join("");if(a.#isFrameless?(n=a.manifestInfo,a.richloadAssetPath=a.baseUrlPath+n.src,a.richloadUrlPath=""+a.richloadAssetPath):n=myFT.richloads&&myFT.richloads[t],!a.#setup){if(!myFT.manifestLoaded)return myFT.once("manifest",function(){a.#setupRichload()});if(n&&"dynamic"===n.type&&!myFT.instantAdsLoaded)return myFT.once("instantads",function(){a.#setupRichload()});n?n.used&&myFT.error("populate","Richload "+t+" already used","warn"):myFT.error("insertRichload","No richload exists in the manifest with the name "+t,"fatal"),r=n.src,/\.html$/i.test(r)||(r+=("/"===r[r.length-1]?"":"/")+"index.html"),r=myFT.testMode?"../../richLoads/"+r:myFT.placementProperties.adPreview?"../richloads/"+r:a.#isFrameless?a.baseUrlPath+r:e+"/"+myFT.get("cID")+"/"+r,a.#src=r;try{fetch(r).then(e=>{if(e.ok)return e.text();throw new Error("Response status: "+e.status)}).then(i=>{if(a.#isFrameless){var o=document.createRange().createContextualFragment(i);a.#doc=a.#addCreativeAssetPathToHTML(o,a.richloadAssetPath)}else{let e=i.replace(/<script[^>]*>/g,s+"$&"),t=((o=document.createElement("a")).href=r,o.href),n='<base href="'+t+'">';e=0<e.indexOf("<head")?e.replace(/<head[^>]*>/,"$&"+n):0<e.indexOf("<html")?e.replace(/<html[^>]*>/,"$&<head>"+n+"</head>"):"<head>"+n+"</head>"+e,a.#doc=e}a.#renderMarkup()})}catch(e){console.error(e.message)}a.#isFrameless?(a.#frame.dataset.source=r,a.#frame.dataset.name=a.name):(a.#frame.name=a.name,a.#root.appendChild(a.#frame),a.contentDocument.open(),history.replaceState&&a.contentWindow.history.replaceState({},"",r)),a.#loaded=!1,n.used=!0,a.#setup=!0}}#addCreativeAssetPathToHTML(e,t){return this.#isFrameless&&(t+="/",e.querySelectorAll("[href]").forEach(e=>{/^https:\/\//.test(e.getAttribute("href"))||(/^\.\//.test(e.getAttribute("href"))?e.setAttribute("href",t+e.getAttribute("href").replace("./","")):e.setAttribute("href",t+e.getAttribute("href")))}),e.querySelectorAll("[src]").forEach(e=>{/^https:\/\//.test(e.getAttribute("src"))&&/^\/\//.test(e.getAttribute("src"))||e.setAttribute("src",t+e.getAttribute("src"))})),e}#buildFramelessDom(){let t=this,e=t.#doc,n,i="",o,a=[...e.children],r=a.length;for(let e=0;e<r;e++)n=a[e],o=n.tagName.toLowerCase(),["script","meta"].includes(o)||(i+=n.outerHTML);t.#root.innerHTML=i;let s=function(e){e+1>=r?t.#setup=!0:(n=a[e+1],o=n.tagName.toLowerCase(),["script"].includes(o)?(n.addEventListener("load",function(){s(e+1)}),t.appendChild(n)):s(e+1))};var c=document.createElement("script");c.textContent=`
            (function () {
                if (window.dispatchEvent) {
                    var evt = document.createEvent('CustomEvent');
                    evt.initCustomEvent('beforescript', false, false, null);
                    window.dispatchEvent(evt);
                }
            })()
        `,t.#root.appendChild(c),myFT.on("manifest",()=>{s(-1)})}#renderMarkup(){let e=!1,t,n=this,i;n.#isFrameless||(n.contentDocument.open(),n.#trackRichClicks(),n.#setMyFTInRichload()),(e="dispatchEvent"in n?!0:e)&&n.dispatchEvent(new CustomEvent("loading")),n.myFT.dispatch("richloadloading",n),n.#isFrameless?(n.#buildFramelessDom(),(myFT.richloads[n.name].frame=n).#loaded=myFT.richloads[n.name].loaded=!0,t=n.#checkAllRLsLoaded(),n.myFT.insertCSS(document,n.myFT.defaultCSS),this.#frame.style.visibility="",n.myFT.dispatch("richload",t),e&&(n.dispatchEvent(new CustomEvent("ready")),n.dispatchEvent(new CustomEvent("load")))):((i=Object.getOwnPropertyDescriptor(n.contentWindow,"frameElement"))&&i.configurable&&Object.defineProperty(n.contentWindow,"frameElement",{value:null}),Object.defineProperty(n.contentWindow,"ftRichloadElement",{value:n,configurable:!0}),n.contentDocument.write(n.#doc),n.contentDocument.close())}#checkAllRLsLoaded(){let e=myFT.richloads,t={},n=0,i=0;for(var o in e)n++,e[o].loaded?(t[o]=e[o].loaded,i++):t[o]=!1;return i===n&&(myFT.richloadsLoaded=myFT.richLoadsLoaded=!0),t}#setMyFTInRichload(){function e(){}function t(){}var n=this.contentWindow;e.prototype=myFT,t.prototype=k,n.FT=new t,n.myFT=new e,q(n.myFT.w=n),Q(n)}#trackRichClicks(){let n=this;myFT.$(n.#frame.contentWindow).on("click",function(e){var t=n.#frame.getBoundingClientRect();myFT.clickManager({pageX:t.left+e.pageX,pageY:t.top+e.pageY})})}get ready(){return this.#loaded}get name(){return this._name=this._name||this.getAttribute("name")||this.getAttribute("id")||"",this._name}set name(e){this._name=e||"",e&&""!==e||!this.hasAttribute("name")||this.removeAttribute("name"),this.getAttribute("name")!==e&&this.setAttribute("name",e)}get id(){return this._name=this._name||this.getAttribute("name")||this.getAttribute("id")||"",this._name}set id(e){this._name=e||"",e&&""!==e||!this.hasAttribute("name")||this.removeAttribute("name"),this.getAttribute("name")!==e&&this.setAttribute("name",e)}get contentWindow(){return this.#isFrameless?null:this.#frame.contentWindow}get contentDocument(){return this.#isFrameless?null:this.#frame.contentDocument}set callbacks(e){this._callbacks=e}get callbacks(){return this._callbacks||{}}}T.FTRichloadElement=T.FTRichLoadElement=u,T.richloadCustomElementDefined=T.richloadCustomElementDefined||!1,T.richloadCustomElementDefined||(T.customElements.define("ft-richload",u),T.richloadCustomElementDefined=!0);var K="B",Z="C",p="D",f="E",m="F",y="G",ee="fullscreenchange timeupdate durationchange volumechange pause playing play ended progress",te="mousemove mouseout touchstart touchend",ne=["mouseleave","mouseup","touchend","touchcancel","MSPointerLeave","pointerup","MSPointerUp","pointercancel","MSPointerCancel"],ie=("pointerleave"in T&&"MSPointerLeave"in T&&"pointerup"in T&&"MSPointerUp"in T&&(te="mousemove mouseout touchstart touchend pointerleave MSPointerLeave pointerup MSPointerUp"),document.body.attachShadow),g='[class^=ft-icon-]{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;cursor:default;font-style:normal;font-variant:normal;font-weight:400;height:20px;line-height:20px;min-width:24px;padding:0 3px;text-transform:none;-ms-user-select:none;-webkit-user-select:none;-moz-user-select:none}:host{speak:none;background-color:rgba(0,0,0,.7);border-radius:4px;bottom:10px;box-sizing:border-box;color:#fff;display:table;font-family:ftglyphs;font-size:18px;height:26px;left:2%;margin:0 auto;padding:0 2px;position:absolute;text-align:center;transition:all .2s;-webkit-transition:all .2s;-moz-transition:all .2s;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;width:96%}:host *{font-family:ftglyphs}:host(.hidden){bottom:0;opacity:0}.ft-time-display,.ft-video-progress-container,[class^=ft-icon-]{display:table-cell;padding:5px 2px;vertical-align:middle;width:24px}.ft-video-progress-container{width:100%}.ft-video-progress-bar{border:2px solid #fff;border-radius:8px;box-sizing:border-box;display:block;height:12px;overflow:hidden;position:relative;width:100%}.ft-video-progress-bar:after{border-radius:8px;bottom:0;box-shadow:inset 0 0 4px #000;content:"";left:0;position:absolute;right:0;top:0}.ft-video-buffer,.ft-video-progress{background-color:#fff;bottom:0;left:0;position:absolute;top:0}.ft-video-buffer{background-color:hsla(0,0%,100%,.4)}.ft-time-display{font-size:.7em;line-height:1.7em;padding:5px;width:50px}ft-video-controls{z-index:2}'.replace(/:host(?:\(([^)]+)\))?/g,"ft-video-controls$1"),v={},oe="webkitEnterFullscreen"in document.createElement("video"),b=!1;function E(t,e,n,i){var o={capture:!0};e.split(" ").forEach(function(e){-1<e.indexOf("touch")&&(o.passive=!0),t[0][i?"addEventListener":"removeEventListener"](e,n,o)})}function C(t){var n=null,i=t.htmlFor,e=t[d];return myFT.videos&&Object.keys(myFT.videos).some(function(e){e=myFT.videos[e];return i?e.id===i&&(n=e):!!(e.shadowRoot||e).contains(t)&&(n=e)}),e.videoElement!==n&&e.linked&&A(t,!1),e.videoElement=n,e.videoId=n&&n.id,!e.linked&&n&&e.inDOM&&A(t,!0),n}function x(e,t){var n,i,o=t[d];e.target&&(n=(i=e.target.shadowRoot||e.target).contains(t),i=i.querySelector("ft-video-controls"),e.target.name)&&e.target===o.videoElement&&("youtube"===e.target.player?t.style.display="none":e.target.fullscreen?t.style.display=t[d].clone||e.target.controls&&n?"":"none":(t.style.display=e.target.controls&&n||e.target.id===o.videoId?"":"none",i&&(i.style.display=!e.target.controls||!n&&o.inDOM?"none":"")))}function A(o,a){var r=o[d];if(!r.videoElement||!r.linked&&!a)return ae(function(){});function e(){o.waitingForControls=!1,r.linked=a;var e,t=myFT.$(r.videoElement),n=t[0].shadowRoot||t[0],i=n.querySelector("ft-video-controls");!0===a&&r.inDOM&&i&&!n.contains(o)?i.parentNode.removeChild(i):!1!==a||r.inDOM||i||!t[0].controls||re(r.videoElement),x({target:t[0],value:t.name},o),(i=t)[0].controls&&!i[0].forceAutoplay&&/^iPhone|iPod$/.test(navigator.platform),e=V()||oe||myFT.manifestProperties.expand,o.querySelector(".ft-icon-fullscreen").style.display=!e||i[0].noFullscreen?"none":"",E(t,te,r.showControls,a),E(ie&&0<n.querySelectorAll("video").length?n.querySelectorAll("video"):t,ee,r.handler,a),E(t,"emptied",r.resetControls,a),E(t,"fullscreenchange",r.fullscreenUpdate,a),r.resetControls(),r.showControls()}b?e():o.waitingForControls||(o.waitingForControls=!0,ae(e))}function ae(t){var n,i;return b?(t(),!0):((i=document.body.appendChild(document.createElement("span"))).textContent="ABCDEFG",i.style.cssText="position: absolute; z-index: 10000; left:-999px;",n=i.offsetWidth,i.style.fontFamily="ftglyphs",setTimeout(function e(){if(i.offsetWidth!==n)return i.parentNode.removeChild(i),t(b=!0);setTimeout(e,100)},200),!1)}function re(e){for(var t,n=[],i=!1,o=0,a=(n=e.name&&(e.shadowRoot&&0<e.shadowRoot.querySelectorAll("ft-video-controls").length&&(n=e.shadowRoot.querySelectorAll("ft-video-controls")),0<document.querySelectorAll("ft-video-controls").length)?document.querySelectorAll("ft-video-controls"):n).length;o<a;o++)n[o][d].inDOM&&"FT-VIDEO-HOST"!==n[o].parentNode.tagName&&(i=!0);i||(e.shadowRoot||e).querySelector("ft-video-controls")||(t=new FTVideoControlsElement,(e.shadowRoot||e).querySelector("ft-video-host").appendChild(t),v.attachedCallback.call(t))}v.createdCallback=function(){var t,n=this,e=V()||oe||myFT.manifestProperties.expand;function i(e){n.htmlFor&&C(n),x(e,n)}this.className="hidden",this.style.display="none",n[d]=t={scrubbing:!1,resumeAfterScrubbing:!1,icons:{},videoElement:myFT.videos&&myFT.videos[this.getAttribute("name")]||null,videoId:null,hideTimer:0,linked:!1,target:this.getAttribute("for"),clone:!1,inDOM:!1},this.querySelector(".ft-icon-play")?t.clone=!0:n.insertAdjacentHTML("afterBegin",'<span class="ft-icon-play">'+p+'</span><span class="ft-video-progress-container">  <span class="ft-video-progress-bar">    <span class="ft-video-buffer"></span>    <span class="ft-video-progress"></span>  </span></span><span class="ft-time-display">0:00</span><span class="ft-icon-volume">'+y+'</span><span class="ft-icon-fullscreen">'+K+"</span>"),e||(this.querySelector(".ft-icon-fullscreen").style.display="none"),t.icons.play=n.children[0],t.icons.pBar=n.children[1].children[0],t.icons.time=n.children[2],t.icons.vol=n.children[3],t.icons.fs=n.children[4],Object.defineProperties(n,{htmlFor:{get:function(){return t.target},set:function(e){e?(t.target=e,n.setAttribute("for",e)):(t.target=null,n.removeAttribute("for")),C(this)}}}),this[d].handler=function(e){var t=this[d],n=t.icons,i=C(this);if(!i)return!1;switch(e.type){case"progress":var o;(e.detail||i.buffered.length)&&(o=e.detail&&e.detail.cvLoadRatio||i.buffered.end(0)/i.duration,n.pBar.children[0].style.width=100*o+"%");break;case"timeupdate":case"durationchange":o=i.currentTime,n.pBar.children[1].style.width=100*(e.detail&&e.detail.hasOwnProperty("cvPlayRatio")?e.detail.cvPlayRatio:o/i.duration)+"%",n.time.textContent=~~(o/60)+":"+("0"+~~(o%60)).slice(-2);break;case"playing":case"play":t.showControls();case"volumechange":n.vol.textContent=i.muted?y:m;case"pause":t.scrubbing||(n.play.textContent=i.paused?p:f);break;case"fullscreenchange":n.fs.textContent=i.fullscreen?Z:K;break;case"ended":t.showControls()}}.bind(this),this[d].showControls=function(e){var t=this,n=t.getBoundingClientRect(),i=t[d],o=i.videoElement,a=i.icons,e=!o.paused&&(!e||"touchstart"!==e.type&&(e.pageX<=n.left||e.pageX>=n.right||e.pageY<=n.top||e.pageY>=n.bottom));b&&o&&(a.play.textContent=o.paused?p:f,a.vol.textContent=o.muted?y:m,t.className=t.className.replace(/\s*hidden\s*/,""),clearTimeout(i.hideTimer),e)&&(i.hideTimer=setTimeout(function(){t.className+=" hidden"},4e3))}.bind(this),this[d].resetControls=function(){var e=this[d],t=e.icons;(e=e.videoElement).buffered&&e.buffered.length?t.pBar.children[0].style.width=e.buffered.end(0)/e.duration*100+"%":t.pBar.children[0].style.width=t.pBar.children[1].style.width=0,t.time.textContent="0:00",t.vol.textContent=e.muted?y:m,t.play.textContent=e.paused?p:f}.bind(this),this[d].fullscreenUpdate=function(){var e=this[d],t=C(this),n=t.shadowRoot||t;!t.fullscreen||n.contains(this)||n.querySelector("ft-video-controls")?!t.fullscreen&&e.clone&&this.parentNode.removeChild(this):(t.shadowRoot||t).querySelector("ft-video-host").appendChild(this.cloneNode(!0));t&&x({target:t},this)}.bind(this),myFT.on("ftvideoswitched",i),myFT.on("ftvideoinserted",i),myFT.on("ftvideoidchanged",i),myFT.on("ftvideocontrolschange",i)},v.attachedCallback=function(){function e(t){var e=C(a),n=t.target;if(t.stopPropagation(),!r.scrubbing&&e)switch(n.className){case"ft-video-buffer":case"ft-video-progress":n.parentNode;case"ft-video-progress-bar":t.preventDefault(),r.scrubbing=!0,r.resumeAfterScrubbing=!e.paused,e.pause(),document.body.addEventListener("mousemove",i),document.body.addEventListener("touchmove",i),ne.forEach(function(e){t.target.ownerDocument.addEventListener(e,s,!0)}),i(t)}}var o,a=this,r=this[d];r.icons;function i(e){var t=r.icons.pBar,n=C(a),i=Date.now(),e=e.touches?e.touches[0]:e,e=Math.max(0,Math.min(t.offsetWidth,e.pageX-t.getBoundingClientRect().left));i-o<300||(o=i,n.currentTime=e/t.offsetWidth*n.duration)}function s(t){r.scrubbing=!1,document.body.removeEventListener("mousemove",i),document.body.removeEventListener("touchmove",i),ne.forEach(function(e){t.target.ownerDocument.removeEventListener(e,s,!0)}),r.resumeAfterScrubbing&&r.videoElement.play()}r.inDOM=!0,a.addEventListener("click",function(e){var t=C(a),n=e.target;if(myFT.clickManager(e),e.stopPropagation(),t)switch(n.className){case"ft-icon-play":t[t.paused?"play":"pause"]();break;case"ft-icon-volume":t.muted=!t.muted;break;case"ft-icon-fullscreen":t[t.fullscreen?"leaveFullscreen":"goFullscreen"]()}}),a.addEventListener("mousedown",e,{passive:!1}),a.addEventListener("touchstart",e,{passive:!0}),a.addEventListener("pointerdown",e,{passive:!1}),r.videoElement=C(this)},v.detachedCallback=function(){this[d].inDOM=!1,x({target:this[d].videoElement},this),this[d].videoElement&&A(this,!1)},v.attributeChangedCallback=function(e,t,n){var i=this[d];myFT._availableVideos;"for"===e&&(this.htmlFor!==n&&(this.htmlFor=n),i.target||this.removeAttribute("for"))},myFT.require(["_ft-elements"],function(e){myFT.insertCSS(T.document,g),myFT.on("richloadloading",function(e){myFT.insertCSS(e.contentDocument,g)}),myFT.w.FTVideoControlsElement=e("ft-video-controls",v)});var se=k.prototype.videos={},S=(/iP(?:ad|od|hone)/.test(navigator.platform),{}),ce=["abort","canplay","canplaythrough","emptied","ended","loadeddata","loadedmetadata","pause","play","playing","progress","seeked","seeking","stalled","suspend","timeupdate","volumechange","waiting"],le=function(e){var t,n=e.target[D],i=e.target.ownerDocument;n&&(e.stopImmediatePropagation(),e.constructor.length?t=new e.constructor(e.type,e):(t=i.createEvent("Event")).initEvent(e.type,e.bubbles,e.cancelable),n.dispatchEvent(t))},P=null,L=!1,D=T.Symbol?Symbol("private"):"_relatedFTVideo",de="fullscreenchange mozfullscreenchange webkitfullscreenchange MSFullscreenChange",M=/^(https?:|\/\/).*?\byoutu\.?be\b/,K="B",Z="C",p="D",f="E",m="F",y="G",b=!1;function N(e,t){e[d].ytMethodQueue.push(t)}function O(e){var t,n=new CustomEvent("fullscreenchange"),i=e,o=(i.style.zIndex,i[d]);if(i.fullscreen){for(var a in P=i,myFT.videos)myFT.videos[a]!==i&&(e=>{function t(){P||(w(n).off(de,t),L||e.play(),L=!1)}var n=(e=>{var t,n=[document];for(t in e)e.hasOwnProperty(t)&&n.push(e[t]);return n})(myFT.videos||{});e.paused||(e.pause(),w(n).on(de,t))})(myFT.videos[a]);o.displayingFallbackFullscreen?(o.root.className="ft-fullscreen ft-fallback",t=myFT.getMaxSize(),o.root.style.cssText="min-width:"+t.width+"px;min-height:"+t.height+"px;",t=o.root.getBoundingClientRect(),o.root.style.cssText+="margin: "+-t.top+"px 0 0 "+-t.left+"px"):("webkitFullscreenElement"in e.ownerDocument||!o.videoElement.webkitDisplayingFullscreen)&&(o.root.className="ft-fullscreen")}else P=P===i?null:P,o.root.className="",o.root.style.cssText="";i.dispatchEvent(n)}function R(t){var e,n=t.play&&t.play();"object"==typeof(e=n)&&"function"==typeof e.then&&n.then(function(e){}).catch(function(e){console.warn("Error playing video - element: ",t,"; Error:",e)})}function _(e){new Date;var t=myFT.get("adPreview"),e=e[d],n=e.videoElement,i=document.createElement("source"),o=document.createElement("source"),a=t&&myFT.get("ftURLMap").videoBaseURL||myFT.get("ftServeDom")||"",r=(e.filepath||"").replace(/^http:(?:\/\/video\.flashtalking\.com\/)?/i,""),s=myFT.getManifest("encodingSource")||null,c="";e.hasOwnProperty("cachebuster")&&e.cachebuster&&(c="?cb="+e.cachebuster),-1<r.indexOf("?cb=")&&(c="?cb="+r.split("?cb=")[1],r=r.split("?cb=")[0]),t?((t=document.createElement("a")).href=/^(https?:|\/)/.test(r)?r:"/"+r,r="//"+(a.replace(/^(https?:)?\/\//,"")||t.host)+t.pathname+t.search):s&&"external"===s?r="./videos/"+e.name:/^(?:https?:)?\/\//i.test(r)||(r=("https:"===location.protocol?"https:":"http:")+"//cdn.flashtalking.com"+(/^\//.test(r)?r:"/"+r)),i.src=r+".mp4"+c,i.type="video/mp4",o.src=r+".webm"+c,o.type="video/webm",e.noFullscreen=!1,n.appendChild(i),n.appendChild(o),n.load(),n.autoplay&&(n.muted||(n.muted=!0),R(n)),e.shouldStartPlaying&&(e.shouldStartPlaying=null,R(n))}function he(i){var t,o=i[d],e=(/(?:v=|\.be\/)(.*)/.exec(i.filepath)||[]).pop();function n(e){0===t.width||0===t.height?setTimeout(function(){t.width=i.offsetWidth||void 0,t.height=i.offsetHeight||void 0,o.player=new T.YT.Player(e,t),o.player.muted=i.muted},200):(o.player=new T.YT.Player(e,t),o.player.muted=i.muted),i.autoplay&&!k.prototype.Video.userInitiatesPlayback&&i.play()}function a(e){var t=function(){};"function"==typeof T.onYouTubeIframeAPIReady&&(t=T.onYouTubeIframeAPIReady),T.onYouTubeIframeAPIReady=function(){t(),n(e)},myFT.require([(/^https:/.test(o.filepath)?"https":"http")+"://www.youtube.com/iframe_api"])}e?(o.youtube=!0,o.noFullscreen=!0,t={height:i.offsetHeight||void 0,width:i.offsetWidth||void 0,videoId:e,playerVars:{rel:0,enablejsapi:1,controls:+i.controls,autoplay:+i.autoplay,origin:(T.location.origin||"*").replace("file://","*"),showinfo:0,wmode:"transparent"},events:{onReady:function(){o.player[i.muted?"mute":"unMute"]();for(var e,t=i[d],n=t.ytMethodQueue;e=n.shift();)t.player[e]()},onStateChange:function(e){function t(e){i.dispatchEvent(new CustomEvent(e))}var n=e.target,e=["ended","play","pause"][e.data];"ended"===e?(t("timeupdate"),i.loop&&i.restart()):"play"===e&&n.getIframe&&setTimeout(function e(){n.currentTime=n.getCurrentTime(),t("timeupdate"),1===n.getPlayerState()&&setTimeout(e,300)},500),e&&t(e)}}},(T.YT&&T.YT.Player?n:a)(o.player),myFT.dispatch("ftvideoswitched",{target:i})):myFT.error("insertVideo","No youtube ID detected")}w(document).on("fullscreenchange mozfullscreenchange webkitfullscreenchange MSFullscreenChange",function(){var e=l();e&&"IFRAME"===e.tagName&&(e=l(e.contentDocument)),P&&O(P),e&&"FT-VIDEO"===e.tagName&&O(e)}),S.createdCallback=function(){function e(e){return{get:function(){return r[e]},set:function(){}}}function t(t,n,i){return function(){var e;return n?"string"==typeof n?(o.getAttribute(t)||"").toLowerCase()===n:"object"==typeof n?(e=(o.getAttribute(t)||"").toLowerCase())in n?n[e]:null!==i?i:null:n(o.getAttribute(t)):o.hasAttribute(t)}}function i(e,t){!1===t||""===t?o.removeAttribute(e):!0===t?o.hasAttribute(e)||o.setAttributeNode(document.createAttribute(e)):o.setAttribute(e,t)}var o=this,n=document.createElement("video"),r={player:n,videoElement:n,filepath:"",forceAutoplay:!1,deferAutoplay:!1,hasPlayed:!1,hasPlayedThrough:!1,cachedStyles:{},ytMethodQueue:[],trackingState:{},root:o.appendChild(document.createElement("ft-video-host")),waitingToAddControls:!1,inDOM:!1,cssApplied:!1,readyState:0},a={auto:"auto",none:"none",metadata:"metadata"};document.body.attachShadow.call(o,{mode:"open"}).appendChild(r.root),myFT.insertCSS(this,':host{-webkit-box-align:center;-webkit-align-items:center;align-items:center;display:inline-block;display:-webkit-inline-flex;object-fit:contain;overflow:hidden;position:relative}:host,:host *{-webkit-tap-highlight-color:rgba(0,0,0,0)}ft-video-host{background-color:#000;display:block;flex:1 1 100%;height:100%;margin:0 auto;max-width:100%;object-fit:inherit;position:relative}ft-video-host:before{content:"";display:inline-block;height:100%;vertical-align:middle;width:0}:host canvas,:host video,ft-video-host canvas,ft-video-host video{object-fit:inherit}:host canvas,:host iframe,:host video,ft-video-host canvas,ft-video-host iframe,ft-video-host video{border:none;height:inherit;max-height:inherit;max-width:inherit;min-height:100%;min-width:100%;vertical-align:middle;width:inherit}:host ::-webkit-media-controls,ft-video-host ::-webkit-media-controls{display:none!important}:host ::-webkit-media-controls-start-playback-button,ft-video-host ::-webkit-media-controls-start-playback-button{-webkit-appearance:none;display:none!important}:host(:-webkit-full-screen),ft-video-host:-webkit-full-screen{bottom:0;height:auto;left:0;overflow:visible;position:fixed;right:0;top:0;width:auto}:host(:-ms-fullscreen),ft-video-host:-ms-fullscreen{bottom:0;height:auto;left:0;overflow:visible;position:fixed;right:0;top:0;width:auto}:host(:-moz-full-screen),ft-video-host:-moz-full-screen{bottom:0;height:auto;left:0;overflow:visible;position:fixed;right:0;top:0;width:auto}:host(:fullscreen),ft-video-host:fullscreen{bottom:0;height:auto;left:0;overflow:visible;position:fixed;right:0;top:0;width:auto}ft-video-host.ft-fullscreen{bottom:0;left:0;position:fixed;right:0;top:0;z-index:2147483647}ft-video-host.ft-fullscreen,ft-video-host.ft-fullscreen canvas,ft-video-host.ft-fullscreen iframe,ft-video-host.ft-fullscreen video{height:100%;max-height:100%;max-width:100%;min-height:0;min-width:100%}[class^=ft-icon-]{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;cursor:default;font-style:normal;font-variant:normal;font-weight:400;height:20px;line-height:20px;min-width:24px;padding:0 3px;text-transform:none;-ms-user-select:none;-webkit-user-select:none;-moz-user-select:none}'+g),n[D]=this,r.root[D]=this,r.videoElement.crossOrigin="anonymous",Object.defineProperty(o,d,{value:r}),Object.defineProperties(o,{filepath:e("filepath"),hasPlayed:e("hasPlayed"),hasPlayedThrough:e("hasPlayedThrough"),player:{get:function(){return r.youtube?"youtube":r.player instanceof HTMLElement?"html":"canvas"},set:function(){}},playerObject:e("player"),video:e("player"),inDOM:e("inDOM"),name:{get:function(){return r.name},set:function(e){var t,n,i,o,a=r.name;e!==r.name&&(r.name=String(e),this.setAttribute("name",""+e),i=(t=this)[d],o=i.player,t.playing&&t.pause(),(n=i.root.querySelector("iframe, canvas"))&&(o.destroy?o.destroy():n.parentNode.removeChild(n),i.root.insertBefore(i.videoElement,i.root.firstChild)),i.youtube=!1,(o=i.player=i.videoElement).removeAttribute("style"),o&&(o.innerHTML="",o.load(),o.autoplay=t.autoplay,o.muted=t.muted),t.name&&(se[t.name]=t),i.filepath="",i.hasPlayed=!1,i.hasPlayedThrough=!1,setTimeout(function(){!function e(t){var n=t[d],i=t.name,o=function(){e(t)},a=function(e){for(var t=e.length;t--;)if(e[t].name===i)return e[t].ref};if(n.filepath)return;if(myFT.getManifest("filename")){var r=myFT.getManifest("instantAds"),s=myFT.getManifest("videos"),c=r?r.length:null;if(r){if(!myFT.instantAdsLoaded)return myFT.on("instantads",o);var l=((e,t)=>{for(var n=e.length;n--;)if(e[n].name===t)return e[n]})(s,i);if(!l)return myFT.error("applyVideo","Instant video name '"+i+"' has no matching item in the Video component of the manifest");for(;c--;)if(l&&r[c].name===i&&"video"===r[c].type.toLowerCase()||"text"===r[c].type.toLowerCase()&&M.test(l.ref)){if(l.name===i&&!M.test(l.ref))return n.filepath=myFT.instantAds[i]||l.ref,n.cachebuster=myFT.instantAds[i].cb||l.cb||!1,void _(t);if(l.name===i&&M.test(l.ref))return n.filepath=M.test(myFT.instantAds[i])?myFT.instantAds[i]:l.ref,void he(t)}}r&&(!myFT.instantAdsLoaded||n.filepath)||(n.filepath=a(s),(M.test(n.filepath)?he:_)(t))}else myFT.on("manifest",o)}(t)}),r.trackingState[r.name]||(r.trackingState[r.name]={muted:this.muted},myFT.registerVideo(this)),myFT.dispatch("ftvideoswitched",{target:this,oldName:a,newName:e}),re(this))}},muted:{get:t("muted"),set:function(e){var t=this,n=r.player;i("muted",e=!!e),n.isMuted?(n.isMuted()!==e&&n[e?"mute":"unMute"](),setTimeout(function(){t.dispatchEvent(new CustomEvent("volumechange"))},50)):(e?r.savedVolume=0<r.player.volume?r.player.volume:r.savedVolume||1:r.player.volume=this.savedVolume||1,n.muted=e,n.setAttribute&&n[e?"setAttribute":"removeAttribute"]("muted",""))}},loop:{get:t("loop"),set:function(e){var t=r.player;t.setLoop?t.setLoop(e):t.loop=e,i("loop",!!e)}},autoplay:{get:t("autoplay"),set:function(e){r.player.autoplay=e,i("autoplay",!!e)}},forceAutoplay:{get:t("autoplay","force"),set:function(e){e?i("autoplay","force"):this.hasAttribute("autoplay")&&this.setAttributeNode(document.createAttribute("autoplay"))}},preload:{get:t("preload",a,"auto"),set:function(e){a.hasOwnProperty(e)?i("preload",e):this.removeAttribute("preload")}},controls:{get:t("controls"),set:function(e){i("controls",!!e),myFT.dispatchEvent("ftvideocontrolschange",{target:this,value:e})}},poster:{get:t("poster",String),set:function(e){r.player.poster=e,i("poster",""+e)}},currentTime:{get:function(){return r.player.currentTime||0},set:function(e){var t=r.player;r.manualSeek=!0,r.youtube&&t.seekTo?(t.seekTo(e,!0),this.paused&&(r.player.currentTime=e,this.dispatchEvent(new CustomEvent("timeupdate")))):"networkState"in t&&3===t.networkState||(t.currentTime=+e)}},duration:{get:function(){return"getDuration"in r.player?r.player.getDuration():r.player.duration||0},set:function(){}},paused:{get:function(){return"paused"in r.player?r.player.paused:!r.player.getPlayerState||2===r.player.getPlayerState()},set:function(){}},fullscreen:{get:function(){return!("webkitFullscreenElement"in this.ownerDocument)&&r.videoElement.webkitDisplayingFullscreen||l(this.ownerDocument)===this||!!r.displayingFallbackFullscreen},set:function(){}},buffered:{get:function(){return r.player.buffered||{}},set:function(){}},readyState:{get:function(){return r.player.readyState||0},set:function(){}}});for(var s=this.attributes.length;0<s--;)this.attributeChangedCallback(this.attributes[s].name);this.addEventListener("seeked",function(){!this.hasAttribute("loop")||r.manualSeek||this.currentTime||this.paused||this.dispatchEvent(new CustomEvent("looped")),r.manualSeek=!1}),n.playsInline=!0,r.root.appendChild(r.videoElement),ie&&ce.forEach(function(e){var t=new Event(e,{bubbles:!0,composed:!0});r.videoElement.addEventListener(e,function(){r.root.dispatchEvent(t)},!1)}),myFT.$(r.videoElement).on("webkitbeginfullscreen webkitendfullscreen",function(){O(o)}),myFT.on("clickthrough",function(){myFT.manifestProperties.vpaidData||(o.pause(),L=!0)})},S.attachedCallback=function(){this[d].inDOM=!0,myFT.dispatchEvent("ftvideoinserted",{target:this,name:this.name})},S.attributeChangedCallback=function(e){switch(e=e.toLowerCase()){case"muted":case"loop":case"autoplay":case"controls":this[e]=this.hasAttribute(e);break;case"name":case"poster":case"preload":this[e]=this.getAttribute(e);break;case"id":myFT.dispatchEvent("ftvideoidchanged",{target:this})}},S.detachedCallback=function(){this[d].inDOM=!1},S.play=function(){var e=this[d].player;this[d].shouldStartPlaying=!0,"youtube"===this.player?e.playVideo?e.playVideo():N(this,"playVideo"):e.play()},S.pause=function(){var e=this[d].player;this[d].youtube?e.pauseVideo?e.pauseVideo():N(this,"pauseVideo"):e.pause()},S.stop=function(){var e=this[d],t=e.player;0<this.currentTime&&(this.currentTime=0),e.youtube?t.stopVideo?t.stopVideo():N(this,"stopVideo"):"function"==typeof t.stop?t.stop():(t.load(),t.pause())},S.restart=function(){this.currentTime=0,this.play()},S.goFullscreen=function(){var e=this;e[d];e.fullscreen||j(this,null,function(){e.fallbackFullscreen()})},S.fallbackFullscreen=function(){function e(){O(t)}var t=this,n=t[d],i=n.videoElement,o=myFT.getManifest("expand"),a=/^iP(?:hone|od)$/.test(navigator.platform)&&"VIDEO"===n.player.tagName,r=myFT.placementProperties.currentWidth===myFT.placementProperties.maxWidth;return(!o||a)&&"webkitEnterFullscreen"in n.videoElement?("canvas"===t.player&&(t.pause(),_(t)),R(i),0<i.readyState?i.webkitEnterFullscreen():myFT.$(t).on("loadedmetadata",function e(){myFT.$(t).off("loadedmetadata",e),i.webkitEnterFullscreen()}),!0):(n.previousState=myFT.getState(),T.addEventListener("resize",e),myFT.once("contract",function(){T.removeEventListener("resize",e),n.displayingFallbackFullscreen=!1,e()}),n.displayingFallbackFullscreen=!0,!r&&o?(myFT.expand({fullscreen:!0}),!0):(e(),!1))},S.leaveFullscreen=function(){var e,t=!1,n=this,i=n.ownerDocument,o=n[d],a=["exitFullScreen","msExitFullscreen","mozExitFullScreen","webkitExitFullscreen"],r=["exitFullscreen","cancelFullscreen","msCancelFullscreen","mozCancelFullScreen","webkitCancelFullscreen","msExitFullscreen","mozExitFullScreen","webkitExitFullscreen"];if(n.fullscreen&&!o.displayingFallbackFullscreen){for(;e=r.shift();)if(i[e]){i[e](),t=!0;break}for(;!t&&(e=a.shift());)if(n[e]){n[e]();break}}else o.displayingFallbackFullscreen&&("default"===o.previousState?myFT.contract():"resized"!==o.previousState&&"expanded"!==o.previousState||myFT.expand(),o.displayingFallbackFullscreen=!1,O(n),P=null)},S.mute=function(){this.muted=!0},S.unmute=function(){this.muted=!1},k.prototype.registerVideo=function(o){var a,r,i=this,s=o[d],c=function(){var e=o.name,t=i.getManifest("videos"),n=t.length;if(n){for(;n--;)if(e===t[n].name)return n+1;return"No matching video name in the manifest's Video array"}return"No videos included in the manifest's Video array"};i.getManifest("filename")?(r=function(e){var t=c(),n={duration:a,event:e};i.send("tracker",{type:"video",id:t,event:e,duration:a}),i.dispatch("video",{video:o.name,id:t,event:e}),o.dispatchEvent(new CustomEvent("tracker",{detail:n}))},"number"==typeof c()?(o.addEventListener("play",function(){var e=s.trackingState[o.name];e.hasPlayed||(r("init"),e.hasPlayed=s.hasPlayed=!0),e.hasPlayedThrough&&!e.hasReplayed&&(r("replay"),e.hasReplayed=s.hasReplayed=!0)},!0),o.addEventListener("timeupdate",function(e){var t,n,i=s.trackingState[o.name];if(!o.paused&&(void 0===i.stage&&(i.stage=0),n=e&&e.detail&&e.detail.cvPlayRatio?100*e.detail.cvPlayRatio:(t=o.duration,Math.round(o.currentTime)/Math.floor(t)*100),a=Math.floor(10*t),0!==n))switch(i.stage){case 0:r("starts"),i.stage++;break;case 1:25<=n&&(r("25%"),i.stage++);break;case 2:50<=n&&(r("50%"),i.stage++);break;case 3:75<=n&&(r("75%"),i.stage++);break;case 4:100<=n&&(r("100%"),s.hasPlayedThrough=!0,i.hasPlayedThrough=!0,i.stage++)}},!0),o.addEventListener("volumechange",function(){var e=s.trackingState[o.name];e.muted!==o.muted&&(e.muted=o.muted,r(o.muted?"mute":"unmute"))},!0)):i.error("registerVideo",c())):i.on("manifest",function(){i.registerVideo(o)})},myFT.require(["_ft-elements"],function(e){myFT.w.FTVideoElement=e("ft-video",S)})}(window);